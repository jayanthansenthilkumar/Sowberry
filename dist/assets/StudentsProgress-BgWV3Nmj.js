import{b as g,r,j as t,m as x}from"./index-DWc0sipz.js";import{D as p}from"./DashboardLayout-CZXxrPCJ.js";import{A as h}from"./AdminLayout-y2i8b9cG.js";import{D as y}from"./DataTable-DtNovqd-.js";import"./exportData-C0KaTZVG.js";import"./jspdf.es.min-CiEcMygW.js";const w=()=>{const{user:o}=g(),a=o?.role==="admin",n=a?h:p,l=a?{}:{pageTitle:"Student Progress",role:"mentor"},[d,c]=r.useState([]),[i,u]=r.useState(!0);r.useEffect(()=>{(async()=>{const s=await x.getStudentsProgress();s.success&&c(s.students||[]),u(!1)})()},[]);const m=[{key:"studentName",label:"Student",sortable:!0,render:(e,s)=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:`https://ui-avatars.com/api/?name=${encodeURIComponent(s.studentName)}&size=32&background=c96442&color=fff`,className:"w-8 h-8 rounded-lg",alt:""}),t.jsx("span",{className:"font-medium text-gray-700 dark-theme:text-gray-200",children:s.studentName})]}),exportValue:e=>e.studentName},{key:"courseTitle",label:"Course",sortable:!0},{key:"completionPercentage",label:"Progress",sortable:!0,render:e=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex-1 h-2 bg-gray-100 dark-theme:bg-gray-800 rounded-full overflow-hidden min-w-[80px]",children:t.jsx("div",{className:`h-full rounded-full ${(e||0)>=100?"bg-green-500":"bg-primary"}`,style:{width:`${e||0}%`}})}),t.jsxs("span",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 w-10",children:[e||0,"%"]})]}),exportValue:e=>`${e.completionPercentage||0}%`},{key:"enrolledAt",label:"Enrolled",sortable:!0,render:e=>new Date(e).toLocaleDateString(),exportValue:e=>new Date(e.enrolledAt).toLocaleDateString()}];return t.jsx(n,{...l,children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:"Student Progress"}),t.jsx(y,{columns:m,data:d,loading:i,searchPlaceholder:"Search students or courses...",storageKey:"sowberry_students_progress_cols",exportTitle:"Student Progress Report",exportFileName:"Sowberry_Student_Progress",emptyIcon:"ri-line-chart-line",emptyMessage:"No student data available"})]})})};export{w as default};
