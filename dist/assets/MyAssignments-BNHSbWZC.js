import{r as i,j as e,s as o,S as a,g as n}from"./index-CHjF_dAl.js";import{D as b}from"./DashboardLayout-Dnq7Jnl_.js";const j=()=>{const[l,u]=i.useState([]),[g,d]=i.useState(!0),[c,m]=i.useState(null),x=async()=>{d(!0);const t=await o.getAssignments();t.success&&u(t.assignments||[]),d(!1)};i.useEffect(()=>{x()},[]);const h=async t=>{const{value:s}=await a.fire({...n(),title:`Submit: ${t.title}`,input:"textarea",inputPlaceholder:"Paste your answer or solution here...",showCancelButton:!0,confirmButtonText:"Submit",confirmButtonColor:"#6366f1",inputValidator:r=>!r&&"Please enter your submission"});if(s){m(t.id);const r=await o.submitAssignment(t.id,{content:s});m(null),r.success?(a.fire({...n(),icon:"success",title:"Submitted!",timer:1500,showConfirmButton:!1}),x()):a.fire({...n(),icon:"error",title:"Error",text:r.message})}},p=t=>{const s={pending:"bg-amber-500/15 text-amber-400",submitted:"bg-blue-500/15 text-blue-400",graded:"bg-green-500/15 text-green-400",late:"bg-red-500/15 text-red-400"};return s[t]||s.pending};return e.jsx(b,{pageTitle:"My Assignments",role:"student",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:"My Assignments"}),g?null:l.length===0?e.jsxs("div",{className:"text-center py-20 text-gray-400",children:[e.jsx("i",{className:"ri-task-line text-4xl mb-3 block"}),e.jsx("p",{children:"No assignments yet"})]}):e.jsx("div",{className:"space-y-4",children:l.map(t=>e.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"ri-task-line text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark-theme:text-gray-100 text-sm",children:t.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:t.courseName||"Course"}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-[11px] text-gray-400",children:[e.jsxs("span",{children:[e.jsx("i",{className:"ri-calendar-line mr-1"}),"Due: ",t.dueDate?new Date(t.dueDate).toLocaleDateString():"No deadline"]}),e.jsxs("span",{children:[e.jsx("i",{className:"ri-medal-line mr-1"}),t.maxScore||100," pts"]}),t.grade!=null&&e.jsxs("span",{className:"text-green-600 font-medium",children:[e.jsx("i",{className:"ri-check-line mr-1"}),"Grade: ",t.grade]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-medium ${p(t.status)}`,children:t.status||"pending"}),(!t.status||t.status==="pending")&&e.jsx("button",{onClick:()=>h(t),disabled:c===t.id,className:"px-4 py-2 rounded-xl bg-primary text-white text-xs font-medium hover:bg-primary-dark disabled:opacity-50",children:c===t.id?"Submitting...":"Submit"})]})]}),t.feedback&&e.jsxs("div",{className:"mt-3 p-3 bg-green-50 dark-theme:bg-green-900/20 rounded-xl text-xs text-green-700 dark-theme:text-green-400",children:[e.jsx("i",{className:"ri-chat-1-line mr-1"}),"Feedback: ",t.feedback]})]},t.id))})]})})};export{j as default};
