import{r as a,j as e,s as h}from"./index-CHjF_dAl.js";import{D as g}from"./DashboardLayout-Dnq7Jnl_.js";const p=()=>{const[x,l]=a.useState([]),[r,c]=a.useState({avgPercentage:0,highestScore:0,totalGrades:0}),[n,i]=a.useState(!0);a.useEffect(()=>{(async()=>{const s=await h.getGrades();s.success&&(l(s.grades||[]),c(s.stats||r)),i(!1)})()},[]);const m=t=>t>=80?"text-green-600":t>=60?"text-amber-600":"text-red-600",o=t=>t>=80?"bg-green-500/15":t>=60?"bg-amber-500/15":"bg-red-500/15";return e.jsx(g,{pageTitle:"My Grades",role:"student",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:"My Grades"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800 text-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/15 flex items-center justify-center mx-auto mb-2",children:e.jsx("i",{className:"ri-bar-chart-box-line text-blue-600"})}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:[r.avgPercentage,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Average"})]}),e.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800 text-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/15 flex items-center justify-center mx-auto mb-2",children:e.jsx("i",{className:"ri-arrow-up-line text-green-600"})}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:[r.highestScore,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Highest"})]}),e.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800 text-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-100 flex items-center justify-center mx-auto mb-2",children:e.jsx("i",{className:"ri-file-list-line text-purple-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:r.totalGrades}),e.jsx("p",{className:"text-xs text-gray-500",children:"Graded"})]})]}),n?null:x.length===0?e.jsxs("div",{className:"text-center py-20 text-gray-400",children:[e.jsx("i",{className:"ri-bar-chart-box-line text-4xl mb-3 block"}),e.jsx("p",{children:"No grades yet"})]}):e.jsx("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl border border-sand dark-theme:border-gray-800 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-cream dark-theme:bg-gray-800",children:e.jsxs("tr",{className:"text-left text-xs text-gray-500",children:[e.jsx("th",{className:"px-5 py-3 font-medium",children:"Assignment"}),e.jsx("th",{className:"px-5 py-3 font-medium",children:"Course"}),e.jsx("th",{className:"px-5 py-3 font-medium",children:"Score"}),e.jsx("th",{className:"px-5 py-3 font-medium",children:"Grade"}),e.jsx("th",{className:"px-5 py-3 font-medium",children:"Feedback"})]})}),e.jsx("tbody",{className:"divide-y divide-sand dark-theme:divide-gray-800",children:x.map((t,s)=>{const d=t.maxScore?Math.round(t.grade/t.maxScore*100):0;return e.jsxs("tr",{className:"hover:bg-cream/50 dark-theme:hover:bg-gray-800/50",children:[e.jsx("td",{className:"px-5 py-3 font-medium text-gray-800 dark-theme:text-gray-100",children:t.assignmentTitle||t.testTitle||"Untitled Assessment"}),e.jsx("td",{className:"px-5 py-3 text-gray-500",children:t.courseName||(t.testTitle?"Aptitude Test":"-")}),e.jsxs("td",{className:"px-5 py-3 text-gray-600 dark-theme:text-gray-300",children:[t.grade,"/",t.maxScore]}),e.jsx("td",{className:"px-5 py-3",children:e.jsxs("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-medium ${o(d)} ${m(d)}`,children:[d,"%"]})}),e.jsx("td",{className:"px-5 py-3 text-gray-500 text-xs max-w-[200px] truncate",children:t.feedback||"-"})]},s)})})]})})})]})})};export{p as default};
