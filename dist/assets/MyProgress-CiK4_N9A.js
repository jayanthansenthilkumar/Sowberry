import{r as a,j as e,s as m}from"./index-CMem4MGR.js";import{D as g}from"./DashboardLayout-DOmZDR2B.js";import{D as u}from"./DataTable-BehF0iLT.js";import"./exportData-C2cI5_8I.js";import"./jspdf.es.min-DDw-F4Ae.js";const j=()=>{const[o,n]=a.useState([]),[t,d]=a.useState({totalCourses:0,completedLessons:0,totalLessons:0,overallProgress:0}),[i,c]=a.useState(!0);a.useEffect(()=>{(async()=>{const r=await m.getProgress();r.success&&(n(r.progress||[]),d(r.overall||t)),c(!1)})()},[]);const x=[{key:"courseTitle",label:"Course",sortable:!0,render:(s,r)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"ri-book-open-line text-primary text-sm"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-800 dark-theme:text-gray-100 text-sm",children:r.courseTitle||r.title}),e.jsx("p",{className:"text-[11px] text-gray-400",children:r.mentorName||"Instructor"})]})]}),exportValue:s=>s.courseTitle||s.title},{key:"mentorName",label:"Mentor",sortable:!0,visible:!1,render:s=>s||"Instructor"},{key:"progress",label:"Progress",sortable:!0,render:s=>e.jsxs("div",{className:"flex items-center gap-3 min-w-[120px]",children:[e.jsx("div",{className:"flex-1 h-2 bg-gray-200 dark-theme:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${(s||0)>=100?"bg-green-500":"bg-primary"}`,style:{width:`${s||0}%`}})}),e.jsxs("span",{className:"text-xs font-medium w-10 text-right",children:[s||0,"%"]})]}),exportValue:s=>`${s.progress||0}%`},{key:"status",label:"Status",sortable:!0,render:(s,r)=>{const l=r.progress||0;return e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-medium ${l>=100?"bg-green-500/15 text-green-400":l>=50?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400"}`,children:l>=100?"Completed":"In Progress"})},exportValue:s=>(s.progress||0)>=100?"Completed":"In Progress"},{key:"enrolledDate",label:"Enrolled",sortable:!0,render:s=>s?new Date(s).toLocaleDateString():"N/A",exportValue:s=>s.enrolledDate?new Date(s.enrolledDate).toLocaleDateString():"N/A"}];return e.jsx(g,{pageTitle:"My Progress",role:"student",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:"My Progress"}),e.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-6 border border-sand dark-theme:border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Overall Progress"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-800 dark-theme:text-gray-100",children:[t.overallProgress,"%"]})]}),e.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-primary flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-bold text-primary",children:[t.overallProgress,"%"]})})]}),e.jsx("div",{className:"w-full h-3 bg-gray-200 dark-theme:bg-gray-700 rounded-full",children:e.jsx("div",{className:"h-3 bg-gradient-to-r from-primary to-primary-dark rounded-full transition-all",style:{width:`${t.overallProgress}%`}})}),e.jsxs("div",{className:"flex justify-between mt-3 text-xs text-gray-400",children:[e.jsxs("span",{children:[t.totalCourses," courses"]}),e.jsxs("span",{children:[t.completedLessons,"/",t.totalLessons," lessons completed"]})]})]}),e.jsx(u,{columns:x,data:o,loading:i,searchPlaceholder:"Search courses...",storageKey:"sowberry_my_progress_cols",exportTitle:"My Progress Report",exportFileName:"Sowberry_My_Progress",emptyIcon:"ri-line-chart-line",emptyMessage:"No progress data yet"})]})})};export{j as default};
