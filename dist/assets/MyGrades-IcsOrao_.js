import{r as s,j as t,s as h}from"./index-Ci2oCG6z.js";import{D as u}from"./DashboardLayout-DRLhpPhO.js";import{D as b}from"./DataTable-Bd7QzLZh.js";import"./exportData-BhRp0csh.js";import"./jspdf.es.min-Do-SSO7r.js";const k=()=>{const[l,n]=s.useState([]),[a,x]=s.useState({avgPercentage:0,highestScore:0,totalGrades:0}),[o,c]=s.useState(!0);s.useEffect(()=>{(async()=>{const r=await h.getGrades();r.success&&(n(r.grades||[]),x(r.stats||a)),c(!1)})()},[]);const i=e=>e>=80?"text-green-600":e>=60?"text-amber-600":"text-red-600",m=e=>e>=80?"bg-green-500/15":e>=60?"bg-amber-500/15":"bg-red-500/15",g=[{key:"assignmentTitle",label:"Assignment",sortable:!0,render:(e,r)=>t.jsx("span",{className:"font-medium text-gray-800 dark-theme:text-gray-100",children:r.assignmentTitle||r.testTitle||"Untitled Assessment"}),exportValue:e=>e.assignmentTitle||e.testTitle||"Untitled Assessment"},{key:"courseName",label:"Course",sortable:!0,render:(e,r)=>r.courseName||(r.testTitle?"Aptitude Test":"-"),exportValue:e=>e.courseName||(e.testTitle?"Aptitude Test":"-")},{key:"grade",label:"Score",sortable:!0,render:(e,r)=>t.jsxs("span",{className:"text-gray-600 dark-theme:text-gray-300",children:[r.grade,"/",r.maxScore]}),exportValue:e=>`${e.grade}/${e.maxScore}`},{key:"percentage",label:"Grade",sortable:!0,render:(e,r)=>{const d=r.maxScore?Math.round(r.grade/r.maxScore*100):0;return t.jsxs("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-medium ${m(d)} ${i(d)}`,children:[d,"%"]})},exportValue:e=>e.maxScore?`${Math.round(e.grade/e.maxScore*100)}%`:"0%"},{key:"feedback",label:"Feedback",sortable:!1,render:e=>t.jsx("span",{className:"text-gray-500 text-xs max-w-[200px] truncate block",children:e||"-"})}];return t.jsx(u,{pageTitle:"My Grades",role:"student",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:"My Grades"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800 text-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/15 flex items-center justify-center mx-auto mb-2",children:t.jsx("i",{className:"ri-bar-chart-box-line text-blue-600"})}),t.jsxs("p",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:[a.avgPercentage,"%"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Average"})]}),t.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800 text-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/15 flex items-center justify-center mx-auto mb-2",children:t.jsx("i",{className:"ri-arrow-up-line text-green-600"})}),t.jsxs("p",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:[a.highestScore,"%"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Highest"})]}),t.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800 text-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-100 flex items-center justify-center mx-auto mb-2",children:t.jsx("i",{className:"ri-file-list-line text-purple-600"})}),t.jsx("p",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:a.totalGrades}),t.jsx("p",{className:"text-xs text-gray-500",children:"Graded"})]})]}),t.jsx(b,{columns:g,data:l,loading:o,searchPlaceholder:"Search grades...",storageKey:"sowberry_grades_cols",exportTitle:"My Grades Report",exportFileName:"Sowberry_My_Grades",emptyIcon:"ri-bar-chart-box-line",emptyMessage:"No grades yet"})]})})};export{k as default};
