import{b as u,r as a,j as e,s as p}from"./index-Ci2oCG6z.js";import{D as n}from"./DashboardLayout-DRLhpPhO.js";const y=()=>{const{user:i}=u(),[r,c]=a.useState({enrolledCourses:0,completedCourses:0,pendingAssignments:0,avgGrade:0}),[l,m]=a.useState([]),[d,o]=a.useState([]),[x,g]=a.useState(!0);a.useEffect(()=>{(async()=>{const t=await p.getDashboard();t.success&&(c(t.stats||r),m(t.currentCourses||[]),o(t.upcomingAssignments||[])),g(!1)})()},[]);const h=[{label:"Enrolled Courses",value:r.enrolledCourses,icon:"ri-book-open-line",color:"from-blue-500 to-blue-600"},{label:"Completed",value:r.completedCourses,icon:"ri-check-double-line",color:"from-green-500 to-green-600"},{label:"Pending Tasks",value:r.pendingAssignments,icon:"ri-task-line",color:"from-amber-500 to-amber-600"},{label:"Avg Grade",value:`${r.avgGrade}%`,icon:"ri-bar-chart-box-line",color:"from-purple-500 to-purple-600"}];return x?e.jsx(n,{pageTitle:"Dashboard",role:"student",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-2xl text-primary"})})}):e.jsx(n,{pageTitle:"Dashboard",role:"student",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-2xl p-6 text-white",children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome back, ",i?.fullName?.split(" ")[0]||"Student","! ðŸ‘‹"]}),e.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Keep up the learning momentum!"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:h.map((s,t)=>e.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-r ${s.color} flex items-center justify-center mb-3`,children:e.jsx("i",{className:`${s.icon} text-white`})}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:s.value}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.label})]},t))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800",children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark-theme:text-gray-100 mb-4",children:"Recent Courses"}),l.length===0?e.jsx("p",{className:"text-sm text-gray-400 text-center py-6",children:"No courses yet"}):e.jsx("div",{className:"space-y-3",children:l.slice(0,5).map((s,t)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-cream dark-theme:bg-gray-800 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx("i",{className:"ri-book-open-line text-primary text-sm"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 dark-theme:text-gray-100 truncate",children:s.title}),e.jsx("p",{className:"text-[11px] text-gray-400",children:s.mentorName||"Mentor"})]}),e.jsxs("div",{className:"w-16",children:[e.jsx("div",{className:"w-full h-1.5 bg-gray-200 dark-theme:bg-gray-700 rounded-full",children:e.jsx("div",{className:"h-1.5 bg-primary rounded-full",style:{width:`${s.progress||0}%`}})}),e.jsxs("p",{className:"text-[10px] text-gray-400 text-right mt-0.5",children:[s.progress||0,"%"]})]})]},t))})]}),e.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800",children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark-theme:text-gray-100 mb-4",children:"Upcoming Assignments"}),d.length===0?e.jsx("p",{className:"text-sm text-gray-400 text-center py-6",children:"No pending assignments"}):e.jsx("div",{className:"space-y-3",children:d.slice(0,5).map((s,t)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-cream dark-theme:bg-gray-800 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 dark-theme:bg-amber-900/30 flex items-center justify-center",children:e.jsx("i",{className:"ri-task-line text-amber-600 text-sm"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 dark-theme:text-gray-100 truncate",children:s.title}),e.jsx("p",{className:"text-[11px] text-gray-400",children:s.courseName})]}),e.jsx("span",{className:"text-[10px] text-red-500 font-medium",children:s.dueDate?new Date(s.dueDate).toLocaleDateString():"No due"})]},t))})]})]})]})})};export{y as default};
