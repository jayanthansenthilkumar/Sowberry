import{r as s,j as e,m as o,S as m,g as x}from"./index-mbJjgMST.js";import{A as k}from"./AdminLayout-CGz82RL4.js";const T=()=>{const[d,g]=s.useState([]),[h,p]=s.useState(!0),[b,n]=s.useState(!1),[i,u]=s.useState(null),[r,a]=s.useState({title:"",description:"",eventDate:"",eventTime:"",eventType:"webinar",location:"",duration:60}),c=async()=>{p(!0);const t=await o.getEvents();t.success&&g(t.events||[]),p(!1)};s.useEffect(()=>{c()},[]);const y=()=>{u(null),a({title:"",description:"",eventDate:"",eventTime:"",eventType:"webinar",location:"",duration:60}),n(!0)},v=t=>{u(t),a({title:t.title,description:t.description||"",eventDate:t.eventDate?.split("T")[0]||"",eventTime:t.eventTime||"",eventType:t.eventType||"webinar",location:t.location||"",duration:t.duration||60}),n(!0)},f=async t=>{t.preventDefault();const l=i?await o.updateEvent(i.id,r):await o.createEvent(r);l.success?(m.fire({...x(),icon:"success",title:i?"Event Updated!":"Event Created!",timer:1500,showConfirmButton:!1}),n(!1),c()):m.fire({...x(),icon:"error",title:"Error",text:l.message})},j=t=>{m.fire({...x(),title:"Delete Event?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",confirmButtonText:"Delete"}).then(async l=>{l.isConfirmed&&(await o.deleteEvent(t),c())})},N={webinar:"bg-blue-100 text-blue-700",workshop:"bg-purple-100 text-purple-700","live-session":"bg-green-100 text-green-700",hackathon:"bg-red-100 text-red-700",seminar:"bg-amber-100 text-amber-700"},w={webinar:"ri-live-line",workshop:"ri-tools-line","live-session":"ri-webcam-line",hackathon:"ri-code-s-slash-line",seminar:"ri-presentation-line"};return e.jsxs(k,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:"Events"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[d.length," events scheduled"]})]}),e.jsxs("button",{onClick:y,className:"px-4 py-2.5 rounded-xl bg-primary text-white text-sm font-medium hover:bg-primary-dark flex items-center gap-2",children:[e.jsx("i",{className:"ri-add-line"}),"New Event"]})]}),h?null:d.length===0?e.jsxs("div",{className:"text-center py-20 text-gray-400",children:[e.jsx("i",{className:"ri-calendar-event-line text-4xl mb-3 block"}),e.jsx("p",{children:"No events scheduled"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:d.map(t=>e.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl border border-sand dark-theme:border-gray-800 hover:shadow-md transition-shadow overflow-hidden",children:[e.jsx("div",{className:"h-2 bg-gradient-to-r from-primary to-primary-dark"}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:e.jsx("i",{className:`${w[t.eventType]||"ri-calendar-line"} text-primary`})}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-medium ${N[t.eventType]||"bg-gray-100 text-gray-700"}`,children:t.eventType})]}),e.jsx("h3",{className:"font-semibold text-gray-800 dark-theme:text-gray-100 text-sm mb-1",children:t.title}),e.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mb-3",children:t.description}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-400 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"ri-calendar-line"}),t.eventDate?new Date(t.eventDate).toLocaleDateString():"TBD"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"ri-time-line"}),t.eventTime||"TBD"," Â· ",t.duration," min"]}),t.location&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"ri-map-pin-line"}),t.location]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>v(t),className:"flex-1 py-2 rounded-xl bg-primary/10 text-primary text-xs font-medium hover:bg-primary/20",children:[e.jsx("i",{className:"ri-edit-line mr-1"}),"Edit"]}),e.jsxs("button",{onClick:()=>j(t.id),className:"flex-1 py-2 rounded-xl bg-red-50 dark-theme:bg-red-900/20 text-red-600 text-xs font-medium hover:bg-red-100",children:[e.jsx("i",{className:"ri-delete-bin-line mr-1"}),"Delete"]})]})]})]},t.id))})]}),b&&e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40",children:e.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-6 w-full max-w-lg mx-4 border border-sand dark-theme:border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:i?"Edit Event":"Create Event"}),e.jsx("button",{onClick:()=>n(!1),className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:e.jsx("i",{className:"ri-close-line text-lg text-gray-500"})})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Event Title",required:!0,value:r.title,onChange:t=>a({...r,title:t.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm"}),e.jsx("textarea",{placeholder:"Description",rows:3,value:r.description,onChange:t=>a({...r,description:t.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm resize-none"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"date",value:r.eventDate,onChange:t=>a({...r,eventDate:t.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm"}),e.jsx("input",{type:"time",value:r.eventTime,onChange:t=>a({...r,eventTime:t.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("select",{value:r.eventType,onChange:t=>a({...r,eventType:t.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 outline-none text-sm",children:[e.jsx("option",{value:"webinar",children:"Webinar"}),e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"live-session",children:"Live Session"}),e.jsx("option",{value:"hackathon",children:"Hackathon"}),e.jsx("option",{value:"seminar",children:"Seminar"})]}),e.jsx("input",{type:"number",placeholder:"Duration (min)",value:r.duration,onChange:t=>a({...r,duration:parseInt(t.target.value)||60}),className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm"})]}),e.jsx("input",{type:"text",placeholder:"Location / Meeting Link",value:r.location,onChange:t=>a({...r,location:t.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm"}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 py-2.5 rounded-xl border border-sand text-sm font-medium text-gray-600 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-2.5 rounded-xl bg-primary text-white text-sm font-medium hover:bg-primary-dark",children:i?"Update":"Create"})]})]})]})})]})};export{T as default};
