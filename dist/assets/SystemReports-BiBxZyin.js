import{r as d,j as e,d as m}from"./index-CHjF_dAl.js";import{A as i}from"./AdminLayout-CsrdiLzj.js";import{e as h,a as g}from"./exportData-CnZtBtFr.js";const N=()=>{const[t,x]=d.useState(null),[c,n]=d.useState(!0);if(d.useEffect(()=>{(async()=>{const r=await m.getReports();if(r.success){const{success:a,message:p,...o}=r;x(o)}n(!1)})()},[]),c)return e.jsx(i,{pageTitle:"System Reports",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-2xl text-primary"})})});const l=()=>{const s=["User","Action","Description","Date"],r=(t?.activityLogs||[]).map(a=>[a.fullName||a.userId||"System",a.action,a.description,new Date(a.createdAt).toLocaleString()]);return{title:"Activity Logs Report",columns:s,rows:r,fileName:"Sowberry_Activity_Logs"}};return e.jsx(i,{pageTitle:"System Reports",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:"System Reports"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:e.jsx("i",{className:"ri-user-line text-primary text-lg"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Total Users"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 dark-theme:text-gray-100",children:t?.totalUsers||0})]})]})}),e.jsx("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:e.jsx("i",{className:"ri-check-double-line text-green-500 text-lg"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Total Submissions"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 dark-theme:text-gray-100",children:t?.totalSubmissions||0})]})]})}),e.jsx("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center",children:e.jsx("i",{className:"ri-book-open-line text-blue-500 text-lg"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Total Enrollments"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 dark-theme:text-gray-100",children:t?.totalEnrollments||0})]})]})}),e.jsx("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/10 flex items-center justify-center",children:e.jsx("i",{className:"ri-mail-line text-amber-500 text-lg"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Contact Messages"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 dark-theme:text-gray-100",children:t?.totalContactMessages||0})]})]})})]}),e.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl border border-sand dark-theme:border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-sand dark-theme:border-gray-800 flex items-center justify-between",children:[e.jsx("h3",{className:"font-bold text-gray-800 dark-theme:text-gray-100",children:"Recent Activity Logs"}),e.jsxs("div",{className:"flex items-center gap-1 bg-cream/50 dark-theme:bg-gray-800/50 border border-sand dark-theme:border-gray-700 rounded-xl px-1",children:[e.jsxs("button",{onClick:()=>h(l()),className:"px-3 py-1.5 rounded-lg text-xs font-medium text-red-500 hover:bg-red-50 dark-theme:hover:bg-red-900/20 transition-colors flex items-center gap-1.5",title:"Download PDF",children:[e.jsx("i",{className:"ri-file-pdf-2-line text-sm"})," PDF"]}),e.jsx("div",{className:"w-px h-4 bg-sand dark-theme:bg-gray-700"}),e.jsxs("button",{onClick:()=>g(l()),className:"px-3 py-1.5 rounded-lg text-xs font-medium text-green-600 hover:bg-green-50 dark-theme:hover:bg-green-900/20 transition-colors flex items-center gap-1.5",title:"Download Excel",children:[e.jsx("i",{className:"ri-file-excel-2-line text-sm"})," Excel"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-cream/50 dark-theme:bg-gray-800/50",children:[e.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-500 uppercase",children:"User"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-500 uppercase",children:"Action"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-500 uppercase",children:"Description"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-500 uppercase",children:"Date"})]})}),e.jsxs("tbody",{className:"divide-y divide-sand dark-theme:divide-gray-800",children:[(t?.activityLogs||[]).map((s,r)=>e.jsxs("tr",{className:"hover:bg-cream/30 dark-theme:hover:bg-gray-800/30",children:[e.jsx("td",{className:"px-6 py-3 text-sm text-gray-700 dark-theme:text-gray-300",children:s.fullName||s.userId||"System"}),e.jsx("td",{className:"px-6 py-3",children:e.jsx("span",{className:"px-2 py-0.5 rounded-md bg-primary/10 text-primary text-xs font-medium",children:s.action})}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-500 dark-theme:text-gray-400",children:s.description}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-400",children:new Date(s.createdAt).toLocaleString()})]},r)),(!t?.activityLogs||t.activityLogs.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-10 text-center text-gray-400",children:"No activity logs yet"})})]})]})})]})]})})};export{N as default};
