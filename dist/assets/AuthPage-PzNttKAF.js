import{a as gt,r as x,u as xt,b as ft,p as Ce,j as t,L as yt,R as bt,S as k,g as j,c as V}from"./index-CMem4MGR.js";var _e=function(d,s){return _e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])},_e(d,s)};function vt(d,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");_e(d,s);function e(){this.constructor=d}d.prototype=s===null?Object.create(s):(e.prototype=s.prototype,new e)}var R=function(){return R=Object.assign||function(s){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},R.apply(this,arguments)};var Se,Fe;function wt(){if(Fe)return Se;Fe=1;var d=!1,s,e,r,a,i,c,m,h,p,g,w,n,f,b,S;function v(){if(!d){d=!0;var P=navigator.userAgent,N=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(P),B=/(Mac OS X)|(Windows)|(Linux)/.exec(P);if(n=/\b(iPhone|iP[ao]d)/.exec(P),f=/\b(iP[ao]d)/.exec(P),g=/Android/i.exec(P),b=/FBAN\/\w+;/i.exec(P),S=/Mobile/i.exec(P),w=!!/Win64/.exec(P),N){s=N[1]?parseFloat(N[1]):N[5]?parseFloat(N[5]):NaN,s&&document&&document.documentMode&&(s=document.documentMode);var F=/(?:Trident\/(\d+.\d+))/.exec(P);c=F?parseFloat(F[1])+4:s,e=N[2]?parseFloat(N[2]):NaN,r=N[3]?parseFloat(N[3]):NaN,a=N[4]?parseFloat(N[4]):NaN,a?(N=/(?:Chrome\/(\d+\.\d+))/.exec(P),i=N&&N[1]?parseFloat(N[1]):NaN):i=NaN}else s=e=r=i=a=NaN;if(B){if(B[1]){var L=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(P);m=L?parseFloat(L[1].replace("_",".")):!0}else m=!1;h=!!B[2],p=!!B[3]}else m=h=p=!1}}var I={ie:function(){return v()||s},ieCompatibilityMode:function(){return v()||c>s},ie64:function(){return I.ie()&&w},firefox:function(){return v()||e},opera:function(){return v()||r},webkit:function(){return v()||a},safari:function(){return I.webkit()},chrome:function(){return v()||i},windows:function(){return v()||h},osx:function(){return v()||m},linux:function(){return v()||p},iphone:function(){return v()||n},mobile:function(){return v()||n||f||g||S},nativeApp:function(){return v()||b},android:function(){return v()||g},ipad:function(){return v()||f}};return Se=I,Se}var Pe,Le;function kt(){if(Le)return Pe;Le=1;var d=!!(typeof window<"u"&&window.document&&window.document.createElement),s={canUseDOM:d,canUseWorkers:typeof Worker<"u",canUseEventListeners:d&&!!(window.addEventListener||window.attachEvent),canUseViewport:d&&!!window.screen,isInWorker:!d};return Pe=s,Pe}var Re,We;function jt(){if(We)return Re;We=1;var d=kt(),s;d.canUseDOM&&(s=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function e(r,a){if(!d.canUseDOM||a&&!("addEventListener"in document))return!1;var i="on"+r,c=i in document;if(!c){var m=document.createElement("div");m.setAttribute(i,"return;"),c=typeof m[i]=="function"}return!c&&s&&r==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return Re=e,Re}var Ee,Be;function Nt(){if(Be)return Ee;Be=1;var d=wt(),s=jt(),e=10,r=40,a=800;function i(c){var m=0,h=0,p=0,g=0;return"detail"in c&&(h=c.detail),"wheelDelta"in c&&(h=-c.wheelDelta/120),"wheelDeltaY"in c&&(h=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(m=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(m=h,h=0),p=m*e,g=h*e,"deltaY"in c&&(g=c.deltaY),"deltaX"in c&&(p=c.deltaX),(p||g)&&c.deltaMode&&(c.deltaMode==1?(p*=r,g*=r):(p*=a,g*=a)),p&&!m&&(m=p<1?-1:1),g&&!h&&(h=g<1?-1:1),{spinX:m,spinY:h,pixelX:p,pixelY:g}}return i.getEventType=function(){return d.firefox()?"DOMMouseScroll":s("wheel")?"wheel":"mousewheel"},Ee=i,Ee}var De,Ze;function Ct(){return Ze||(Ze=1,De=Nt()),De}var St=Ct();const Pt=gt(St);function Rt(d,s,e,r,a,i){i===void 0&&(i=0);var c=Y(d,s,i),m=c.width,h=c.height,p=Math.min(m,e),g=Math.min(h,r);return p>g*a?{width:g*a,height:g}:{width:p,height:p/a}}function Et(d){return d.width>d.height?d.width/d.naturalWidth:d.height/d.naturalHeight}function J(d,s,e,r,a){a===void 0&&(a=0);var i=Y(s.width,s.height,a),c=i.width,m=i.height;return{x:Ue(d.x,c,e.width,r),y:Ue(d.y,m,e.height,r)}}function Ue(d,s,e,r){var a=s*r/2-e/2;return me(d,-a,a)}function qe(d,s){return Math.sqrt(Math.pow(d.y-s.y,2)+Math.pow(d.x-s.x,2))}function Ge(d,s){return Math.atan2(s.y-d.y,s.x-d.x)*180/Math.PI}function Dt(d,s,e,r,a,i,c){i===void 0&&(i=0),c===void 0&&(c=!0);var m=c?_t:zt,h=Y(s.width,s.height,i),p=Y(s.naturalWidth,s.naturalHeight,i),g={x:m(100,((h.width-e.width/a)/2-d.x/a)/h.width*100),y:m(100,((h.height-e.height/a)/2-d.y/a)/h.height*100),width:m(100,e.width/h.width*100/a),height:m(100,e.height/h.height*100/a)},w=Math.round(m(p.width,g.width*p.width/100)),n=Math.round(m(p.height,g.height*p.height/100)),f=p.width>=p.height*r,b=f?{width:Math.round(n*r),height:n}:{width:w,height:Math.round(w/r)},S=R(R({},b),{x:Math.round(m(p.width-b.width,g.x*p.width/100)),y:Math.round(m(p.height-b.height,g.y*p.height/100))});return{croppedAreaPercentages:g,croppedAreaPixels:S}}function _t(d,s){return Math.min(d,Math.max(0,s))}function zt(d,s){return s}function Mt(d,s,e,r,a,i){var c=Y(s.width,s.height,e),m=me(r.width/c.width*(100/d.width),a,i),h={x:m*c.width/2-r.width/2-c.width*m*(d.x/100),y:m*c.height/2-r.height/2-c.height*m*(d.y/100)};return{crop:h,zoom:m}}function At(d,s,e){var r=Et(s);return e.height>e.width?e.height/(d.height*r):e.width/(d.width*r)}function It(d,s,e,r,a,i){e===void 0&&(e=0);var c=Y(s.naturalWidth,s.naturalHeight,e),m=me(At(d,s,r),a,i),h=r.height>r.width?r.height/d.height:r.width/d.width,p={x:((c.width-d.width)/2-d.x)*h,y:((c.height-d.height)/2-d.y)*h};return{crop:p,zoom:m}}function Ve(d,s){return{x:(s.x+d.x)/2,y:(s.y+d.y)/2}}function Ot(d){return d*Math.PI/180}function Y(d,s,e){var r=Ot(e);return{width:Math.abs(Math.cos(r)*d)+Math.abs(Math.sin(r)*s),height:Math.abs(Math.sin(r)*d)+Math.abs(Math.cos(r)*s)}}function me(d,s,e){return Math.min(Math.max(d,s),e)}function de(){for(var d=[],s=0;s<arguments.length;s++)d[s]=arguments[s];return d.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var Tt=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Ft=1,Lt=3,Wt=1,Bt=(function(d){vt(s,d);function s(){var e=d!==null&&d.apply(this,arguments)||this;return e.cropperRef=x.createRef(),e.imageRef=x.createRef(),e.videoRef=x.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.previousCropSize=null,e.isInitialized=!1,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var r=!0;e.resizeObserver=new window.ResizeObserver(function(a){if(r){r=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.previousCropSize=r,e.emitCropData(),e.setInitialCrop(r),e.isInitialized=!0),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var a=Mt(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),i=a.crop,c=a.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(c)}else if(e.props.initialCroppedAreaPixels){var m=It(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),i=m.crop,c=m.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(c)}},e.computeSizes=function(){var r,a,i,c,m,h,p=e.imageRef.current||e.videoRef.current;if(p&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var g=e.containerRect.width/e.containerRect.height,w=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((a=e.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,n=((i=e.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((c=e.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,f=p.offsetWidth<w||p.offsetHeight<n,b=w/n,S=void 0;if(f)switch(e.state.mediaObjectFit){default:case"contain":S=g>b?{width:e.containerRect.height*b,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/b};break;case"horizontal-cover":S={width:e.containerRect.width,height:e.containerRect.width/b};break;case"vertical-cover":S={width:e.containerRect.height*b,height:e.containerRect.height};break}else S={width:p.offsetWidth,height:p.offsetHeight};e.mediaSize=R(R({},S),{naturalWidth:w,naturalHeight:n}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var v=e.props.cropSize?e.props.cropSize:Rt(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((m=e.state.cropSize)===null||m===void 0?void 0:m.height)!==v.height||((h=e.state.cropSize)===null||h===void 0?void 0:h.width)!==v.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(v),e.setState({cropSize:v},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(v),v}},e.saveContainerPosition=function(){if(e.containerRef){var r=e.containerRef.getBoundingClientRect();e.containerPosition={x:r.left,y:r.top}}},e.onMouseDown=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(s.getMousePoint(r)))},e.onMouseMove=function(r){return e.onDrag(s.getMousePoint(r))},e.onScroll=function(r){e.currentDoc&&(r.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(r){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(s.getTouchPoint(r.touches[0]))))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(s.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(r){if(r.preventDefault(),!e.isTouching){var a=s.getMousePoint(r),i=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(i,a,{shouldUpdatePosition:!0}),e.props.onRotationChange){var c=e.gestureRotationStart+r.rotation;e.props.onRotationChange(c)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var a,i,c=r.x,m=r.y;e.dragStartPosition={x:c,y:m},e.dragStartCrop=R({},e.props.crop),(i=(a=e.props).onInteractionStart)===null||i===void 0||i.call(a)},e.onDrag=function(r){var a=r.x,i=r.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(a===void 0||i===void 0)){var c=a-e.dragStartPosition.x,m=i-e.dragStartPosition.y,h={x:e.dragStartCrop.x+c,y:e.dragStartCrop.y+m},p=e.props.restrictPosition?J(h,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):h;e.props.onCropChange(p)}}))},e.onDragStopped=function(){var r,a;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(a=(r=e.props).onInteractionEnd)===null||a===void 0||a.call(r)},e.onWheel=function(r){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var a=s.getMousePoint(r),i=Pt(r).pixelY,c=e.props.zoom-i*e.props.zoomSpeed/200;e.setNewZoom(c,a,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var m,h;return(h=(m=e.props).onInteractionStart)===null||h===void 0?void 0:h.call(m)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var m,h;return(h=(m=e.props).onInteractionEnd)===null||h===void 0?void 0:h.call(m)})},250)}},e.getPointOnContainer=function(r,a){var i=r.x,c=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(i-a.x),y:e.containerRect.height/2-(c-a.y)}},e.getPointOnMedia=function(r){var a=r.x,i=r.y,c=e.props,m=c.crop,h=c.zoom;return{x:(a+m.x)/h,y:(i+m.y)/h}},e.setNewZoom=function(r,a,i){var c=i===void 0?{}:i,m=c.shouldUpdatePosition,h=m===void 0?!0:m;if(!(!e.state.cropSize||!e.props.onZoomChange)){var p=me(r,e.props.minZoom,e.props.maxZoom);if(h){var g=e.getPointOnContainer(a,e.containerPosition),w=e.getPointOnMedia(g),n={x:w.x*p-g.x,y:w.y*p-g.y},f=e.props.restrictPosition?J(n,e.mediaSize,e.state.cropSize,p,e.props.rotation):n;e.props.onCropChange(f)}e.props.onZoomChange(p)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?J(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Dt(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(r){var a=r.croppedAreaPercentages,i=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(a,i),e.props.onCropAreaChange&&e.props.onCropAreaChange(a,i)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(r){var a=r.croppedAreaPercentages,i=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(a,i)}},e.recomputeCropPosition=function(){var r,a;if(e.state.cropSize){var i=e.props.crop;if(e.isInitialized&&(!((r=e.previousCropSize)===null||r===void 0)&&r.width)&&(!((a=e.previousCropSize)===null||a===void 0)&&a.height)){var c=Math.abs(e.previousCropSize.width-e.state.cropSize.width)>1e-6||Math.abs(e.previousCropSize.height-e.state.cropSize.height)>1e-6;if(c){var m=e.state.cropSize.width/e.previousCropSize.width,h=e.state.cropSize.height/e.previousCropSize.height;i={x:e.props.crop.x*m,y:e.props.crop.y*h}}}var p=e.props.restrictPosition?J(i,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):i;e.previousCropSize=e.state.cropSize,e.props.onCropChange(p),e.emitCropData()}},e.onKeyDown=function(r){var a,i,c=e.props,m=c.crop,h=c.onCropChange,p=c.keyboardStep,g=c.zoom,w=c.rotation,n=p;if(e.state.cropSize){r.shiftKey&&(n*=.2);var f=R({},m);switch(r.key){case"ArrowUp":f.y-=n,r.preventDefault();break;case"ArrowDown":f.y+=n,r.preventDefault();break;case"ArrowLeft":f.x-=n,r.preventDefault();break;case"ArrowRight":f.x+=n,r.preventDefault();break;default:return}e.props.restrictPosition&&(f=J(f,e.mediaSize,e.state.cropSize,g,w)),r.repeat||(i=(a=e.props).onInteractionStart)===null||i===void 0||i.call(a),h(f)}},e.onKeyUp=function(r){var a,i;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}e.emitCropData(),(i=(a=e.props).onInteractionEnd)===null||i===void 0||i.call(a)},e}return s.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Tt,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},s.prototype.componentWillUnmount=function(){var e,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},s.prototype.componentDidUpdate=function(e){var r,a,i,c,m,h,p,g,w;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.height)||((i=e.cropSize)===null||i===void 0?void 0:i.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((m=e.crop)===null||m===void 0?void 0:m.x)!==((h=this.props.crop)===null||h===void 0?void 0:h.x)||((p=e.crop)===null||p===void 0?void 0:p.y)!==((g=this.props.crop)===null||g===void 0?void 0:g.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((w=this.videoRef.current)===null||w===void 0||w.load());var n=this.getObjectFit();n!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:n},this.computeSizes)},s.prototype.getAspect=function(){var e=this.props,r=e.cropSize,a=e.aspect;return r?r.width/r.height:a},s.prototype.getObjectFit=function(){var e,r,a,i;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var m=this.containerRect.width/this.containerRect.height,h=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,p=((a=this.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,g=h/p;return g<m?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},s.prototype.onPinchStart=function(e){var r=s.getTouchPoint(e.touches[0]),a=s.getTouchPoint(e.touches[1]);this.lastPinchDistance=qe(r,a),this.lastPinchRotation=Ge(r,a),this.onDragStart(Ve(r,a))},s.prototype.onPinchMove=function(e){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var a=s.getTouchPoint(e.touches[0]),i=s.getTouchPoint(e.touches[1]),c=Ve(a,i);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var m=qe(a,i),h=r.props.zoom*(m/r.lastPinchDistance);r.setNewZoom(h,c,{shouldUpdatePosition:!1}),r.lastPinchDistance=m;var p=Ge(a,i),g=r.props.rotation+(p-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(g),r.lastPinchRotation=p})}},s.prototype.render=function(){var e=this,r,a=this.props,i=a.image,c=a.video,m=a.mediaProps,h=a.cropperProps,p=a.transform,g=a.crop,w=g.x,n=g.y,f=a.rotation,b=a.zoom,S=a.cropShape,v=a.showGrid,I=a.roundCropAreaPixels,P=a.style,N=P.containerStyle,B=P.cropAreaStyle,F=P.mediaStyle,L=a.classes,U=L.containerClassName,Q=L.cropAreaClassName,ee=L.mediaClassName,E=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return x.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(q){return e.containerRef=q},"data-testid":"container",style:N,className:de("reactEasyCrop_Container",U)},i?x.createElement("img",R({alt:"",className:de("reactEasyCrop_Image",E==="contain"&&"reactEasyCrop_Contain",E==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",E==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",ee)},m,{src:i,ref:this.imageRef,style:R(R({},F),{transform:p||"translate(".concat(w,"px, ").concat(n,"px) rotate(").concat(f,"deg) scale(").concat(b,")")}),onLoad:this.onMediaLoad})):c&&x.createElement("video",R({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:de("reactEasyCrop_Video",E==="contain"&&"reactEasyCrop_Contain",E==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",E==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",ee)},m,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:R(R({},F),{transform:p||"translate(".concat(w,"px, ").concat(n,"px) rotate(").concat(f,"deg) scale(").concat(b,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(Z){return x.createElement("source",R({key:Z.src},Z))})),this.state.cropSize&&x.createElement("div",R({ref:this.cropperRef,style:R(R({},B),{width:I?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:I?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:de("reactEasyCrop_CropArea",S==="round"&&"reactEasyCrop_CropAreaRound",v&&"reactEasyCrop_CropAreaGrid",Q)},h)))},s.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Lt,minZoom:Ft,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Wt},s.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},s.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},s})(x.Component);const Ut=()=>{const d=xt(),{login:s,isAuthenticated:e,user:r}=ft(),[a,i]=x.useState(!1);x.useEffect(()=>{if(e&&r){const o=r.role==="admin"?"/admin":r.role==="mentor"?"/mentor":"/student";d(o,{replace:!0})}},[e,r,d]);const[c,m]=x.useState("login"),[h,p]=x.useState(1),[g,w]=x.useState({username:"",password:"",remember:!1}),[n,f]=x.useState({fullName:"",college:"",department:"",year:"",rollNumber:"",email:"",phone:"",countryCode:"+91",gender:"",dateOfBirth:"",address:"",bio:"",github:"",linkedin:"",hackerrank:"",leetcode:"",profileImage:null,profilePreview:null,username:"",password:"",confirmPassword:""}),[b,S]=x.useState(1),[v,I]=x.useState(!1),[P,N]=x.useState(null),[B,F]=x.useState({x:0,y:0}),[L,U]=x.useState(1),[Q,ee]=x.useState(null),[E,Z]=x.useState(""),[q,te]=x.useState([]),[he,ze]=x.useState(!1),[Me,H]=x.useState(!1),ue=x.useRef(null),re=x.useRef(null),[W,pe]=x.useState(""),[ae,oe]=x.useState([]),[ge,Ae]=x.useState(!1),[Ie,$]=x.useState(!1),[Ye,xe]=x.useState(""),fe=x.useRef(null),ne=x.useRef(null),[X,He]=x.useState(null),[D,Oe]=x.useState({email:"",otp:["","","","","",""],newPassword:"",confirmPassword:""}),[O,$e]=x.useState({login:!1,register:!1,registerConfirm:!1,newPassword:!1,confirmPassword:!1});x.useEffect(()=>{(async()=>{if(window.particlesJS){const l={particles:{number:{value:60},color:{value:"#ffffff"},opacity:{value:.7},size:{value:3},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.1,width:1},move:{enable:!0,speed:2}}},u={particles:{number:{value:60},color:{value:"#c96442"},opacity:{value:.8},size:{value:3},line_linked:{enable:!0,distance:150,color:"#c96442",opacity:.1,width:1},move:{enable:!0,speed:2}}};setTimeout(()=>{try{window.particlesJS("particles-left",l),window.particlesJS("particles-right",u),console.log("Particles initialized successfully")}catch(y){console.error("Particles initialization error:",y)}},100)}})()},[]);const G=o=>{m(o),o==="forgot"&&p(1)},ye=o=>{const{name:l,value:u,type:y,checked:z}=o.target;w(C=>({...C,[l]:y==="checkbox"?z:u}))},M=o=>{const{name:l,value:u,type:y,checked:z}=o.target;if(l==="department"){const C=u==="CYBER"?"I year":n.year;if(A){const T=ie[C]||"",ce=se(u,C),Ne=T&&ce?T+ce:"";f(pt=>({...pt,department:u,year:C,rollNumber:Ne}))}else f(T=>({...T,department:u,year:C}));return}if(l==="year"){if(A){const C=ie[u]||"",T=se(n.department,u),ce=C&&T?C+T:"";f(Ne=>({...Ne,year:u,rollNumber:ce}))}else f(C=>({...C,year:u}));return}if(l==="rollNumber"){if(A){const C=Te();if(C&&!u.startsWith(C)||u.length>12)return}else if(u.length>20)return;f(C=>({...C,rollNumber:u}));return}f(C=>({...C,[l]:y==="checkbox"?z:u}))},Xe=o=>{const l=o.target.files[0];if(!l)return;if(l.size>5*1024*1024){k.fire({...j(),icon:"warning",title:"File Too Large",text:"Max file size is 5MB"});return}const u=new FileReader;u.onloadend=()=>{N(u.result),I(!0)},u.readAsDataURL(l),o.target.value=""},Ke=()=>{f(o=>({...o,profileImage:null,profilePreview:null}))},Je=x.useCallback((o,l)=>{ee(l)},[]),Qe=(o,l)=>new Promise(u=>{const y=new Image;y.src=o,y.onload=()=>{const z=document.createElement("canvas");z.width=l.width,z.height=l.height,z.getContext("2d").drawImage(y,l.x,l.y,l.width,l.height,0,0,l.width,l.height),z.toBlob(T=>{u({blob:T,url:URL.createObjectURL(T)})},"image/jpeg",.95)}}),et=async()=>{if(!(!Q||!P)){try{const{blob:o,url:l}=await Qe(P,Q),u=new File([o],"profile.jpg",{type:"image/jpeg"});f(y=>({...y,profileImage:u,profilePreview:l}))}catch(o){console.error("Crop failed:",o)}I(!1),N(null),F({x:0,y:0}),U(1)}},be=()=>{I(!1),N(null),F({x:0,y:0}),U(1)};x.useEffect(()=>{if(!E||E.trim().length<2){te([]);return}ze(!0);const o=setTimeout(async()=>{try{const l=await Ce.searchColleges(E.trim());l.success&&(te(l.colleges||[]),H(!0))}catch(l){console.error("College search error:",l),te([])}finally{ze(!1)}},300);return()=>clearTimeout(o)},[E]),x.useEffect(()=>{const o=l=>{ue.current&&!ue.current.contains(l.target)&&re.current&&!re.current.contains(l.target)&&H(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]),x.useEffect(()=>{if(!W||W.trim().length<2){oe([]);return}Ae(!0);const o=setTimeout(async()=>{try{const l=await Ce.searchDepartments(W.trim());l.success&&(oe(l.departments||[]),$(!0))}catch(l){console.error("Department search error:",l),oe([])}finally{Ae(!1)}},300);return()=>clearTimeout(o)},[W]),x.useEffect(()=>{const o=l=>{fe.current&&!fe.current.contains(l.target)&&ne.current&&!ne.current.contains(l.target)&&$(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]);const tt=["I year","II year","III year","IV year"];x.useEffect(()=>{(async()=>{try{const l=await Ce.getAcademicYear();l.success&&He(l)}catch(l){console.error("Failed to fetch academic year config:",l)}})()},[]);const rt=X?.targetCollege||"M.Kumarasamy College of Engineering",A=n.college===rt,at=X?.deptCodes||{AIDS:"BAD",AIML:"BAM",CSE:"BCS",CSBS:"BCB",CYBER:"BSC",ECE:"BEC",EEE:"BEE",MECH:"BME",CIVIL:"BCE",IT:"BIT",VLSI:"BEV"},ie=X?.yearCodes||{"I year":"927625","II year":"927624","III year":"927623","IV year":"927622"},ot=X?.specialDeptOverrides||{},se=(o,l)=>{const u=ot[o]?.[l];return u||at[o]||""},nt=()=>n.department==="CYBER"?["I year"]:tt,Te=()=>{if(!A||!n.department||!n.year)return"";const o=ie[n.year];if(!o)return"";const l=se(n.department,n.year);return l?o+l:""},it=A?n.rollNumber.length===12:n.rollNumber.trim().length>0,le=Te(),_={length:n.password?.length>=6,upper:/[A-Z]/.test(n.password||""),lower:/[a-z]/.test(n.password||""),number:/[0-9]/.test(n.password||""),special:/[^A-Za-z0-9]/.test(n.password||""),match:n.password&&n.password===n.confirmPassword},ve=o=>{if(o===1){const l=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email),u=/^\d{10,15}$/.test(n.phone.replace(/\D/g,"")),y=A?n.rollNumber.length===12:n.rollNumber.trim().length>0;return n.fullName.trim()&&n.college&&n.department&&n.year&&y&&l&&u}return o===2||o===3},we=()=>{ve(b)?S(o=>Math.min(o+1,4)):k.fire({...j(),icon:"warning",title:"Incomplete",text:"Please fill all required fields before proceeding.",timer:2e3,showConfirmButton:!1})},ke=()=>S(o=>Math.max(o-1,1)),st=(o,l)=>{if(!/^\d*$/.test(l))return;const u=[...D.otp];if(u[o]=l,Oe(y=>({...y,otp:u})),l&&o<5){const y=document.querySelectorAll(".otp-input")[o+1];y&&y.focus()}},lt=(o,l)=>{if(l.key==="Backspace"&&!D.otp[o]&&o>0){const u=document.querySelectorAll(".otp-input")[o-1];u&&u.focus()}},je=o=>{const{name:l,value:u}=o.target;Oe(y=>({...y,[l]:u}))},K=o=>{$e(l=>({...l,[o]:!l[o]}))},ct=async o=>{if(o.preventDefault(),!a){i(!0);try{const l=await V.login({username:g.username,password:g.password});if(l.success){s(l.token,l.user),await k.fire({...j(),icon:"success",title:"Welcome back!",text:`Logged in as ${l.user.fullName}`,timer:1500,showConfirmButton:!1});const u=l.user.role==="admin"?"/admin":l.user.role==="mentor"?"/mentor":"/student";d(u)}else k.fire({...j(),icon:"error",title:"Login Failed",text:l.message||"Invalid credentials"})}catch{k.fire({...j(),icon:"error",title:"Error",text:"Something went wrong. Please try again."})}finally{i(!1)}}},dt=async o=>{if(o.preventDefault(),!a){if(!n.username||n.username.length<4){k.fire({...j(),icon:"warning",title:"Invalid Username",text:"Username must be at least 4 characters"});return}if(!_.length||!_.upper||!_.lower||!_.number||!_.special){k.fire({...j(),icon:"warning",title:"Weak Password",text:"Password must meet all requirements"});return}if(!_.match){k.fire({...j(),icon:"warning",title:"Mismatch",text:"Passwords do not match"});return}i(!0);try{let l=null;if(n.profileImage){const z=await V.uploadProfileImage(n.profileImage,n.rollNumber);z.success&&(l=z.imageUrl)}const u=n.countryCode+n.phone.replace(/\D/g,""),y=await V.register({email:n.email,username:n.username,fullName:n.fullName,password:n.password,phone:u,countryCode:n.countryCode,college:n.college,department:n.department,year:n.year,rollNumber:n.rollNumber,gender:n.gender,dateOfBirth:n.dateOfBirth,address:n.address,bio:n.bio,github:n.github,linkedin:n.linkedin,hackerrank:n.hackerrank,leetcode:n.leetcode,profileImage:l});y.success?(await k.fire({...j(),icon:"success",title:"Account Created!",text:"You can now sign in with your credentials."}),S(1),G("login")):k.fire({...j(),icon:"error",title:"Registration Failed",text:y.message||"Could not create account"})}catch{k.fire({...j(),icon:"error",title:"Error",text:"Something went wrong. Please try again."})}finally{i(!1)}}},mt=async o=>{if(o.preventDefault(),a)return;const l=D.email;if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)){i(!0);try{const u=await V.forgotPassword({email:l});u.success?(await k.fire({...j(),icon:"info",title:"OTP Sent",text:u.message||"Check your email for the OTP code."}),p(2)):k.fire({...j(),icon:"error",title:"Error",text:u.message||"Could not send OTP"})}catch{k.fire({...j(),icon:"error",title:"Error",text:"Network error. Try again."})}finally{i(!1)}}},ht=async o=>{if(o.preventDefault(),a)return;const l=D.otp.join("");if(/^\d{6}$/.test(l)){i(!0);try{const u=await V.verifyOtp({email:D.email,otp:l});u.success?(await k.fire({...j(),icon:"success",title:"OTP Verified!",text:"Set your new password.",timer:1500,showConfirmButton:!1}),p(3)):k.fire({...j(),icon:"error",title:"Invalid OTP",text:u.message||"Please check and try again."})}catch{k.fire({...j(),icon:"error",title:"Error",text:"Network error."})}finally{i(!1)}}},ut=async o=>{if(o.preventDefault(),!a){if(D.newPassword!==D.confirmPassword){k.fire({...j(),icon:"warning",title:"Mismatch",text:"Passwords do not match!"});return}if(D.newPassword.length<6){k.fire({...j(),icon:"warning",title:"Too Short",text:"Password must be at least 6 characters."});return}i(!0);try{const l=D.otp.join(""),u=await V.resetPassword({email:D.email,otp:l,newPassword:D.newPassword});u.success?(await k.fire({...j(),icon:"success",title:"Password Reset!",text:"You can now sign in with your new password."}),G("login")):k.fire({...j(),icon:"error",title:"Error",text:u.message||"Could not reset password."})}catch{k.fire({...j(),icon:"error",title:"Error",text:"Network error."})}finally{i(!1)}}};return t.jsxs("div",{className:"flex min-h-screen",children:[t.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative bg-gray-950 flex-col items-center justify-center overflow-hidden",children:[t.jsx("div",{id:"particles-left",className:"absolute inset-0 z-0"}),t.jsx("div",{className:"absolute -top-20 -left-20 w-64 h-64 rounded-full bg-white/5"}),t.jsx("div",{className:"absolute -bottom-32 -right-32 w-96 h-96 rounded-full bg-white/5"}),t.jsxs("div",{className:"relative z-10 text-center text-white space-y-6 p-8",children:[t.jsxs(yt,{to:"/",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors text-sm mb-8",children:[t.jsx("i",{className:"ri-arrow-left-line"})," Home"]}),t.jsx("div",{className:"w-20 h-20 mx-auto rounded-2xl bg-white/10 backdrop-blur flex items-center justify-center mb-4",children:t.jsx("i",{className:"ri-seedling-fill text-4xl"})}),t.jsx("h1",{className:"text-4xl font-bold",children:"Sowberry"}),t.jsx("p",{className:"text-white/70 text-lg",children:"Grow your skills, bloom your future"})]})]}),t.jsxs("div",{className:"flex-1 flex items-center justify-center bg-cream dark-theme:bg-gray-950 relative overflow-hidden",children:[t.jsx("div",{id:"particles-right",className:"absolute inset-0 z-0"}),t.jsxs("div",{className:"relative z-10 w-full max-w-lg px-6 py-8",children:[t.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-3 mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center",children:t.jsx("i",{className:"ri-seedling-fill text-white text-xl"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:"Sowberry"})]}),c==="login"&&t.jsx("div",{className:"animate-fade-in-up",children:t.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-8 border border-sand dark-theme:border-gray-800",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100 mb-1",children:"Welcome back!"}),t.jsx("p",{className:"text-gray-500 dark-theme:text-gray-400 text-sm mb-6",children:"Please enter your details to sign in"}),t.jsxs("form",{onSubmit:ct,className:"space-y-4",children:[t.jsx("input",{type:"text",name:"username",placeholder:"Username",value:g.username,onChange:ye,required:!0,className:"w-full px-4 py-3 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:O.login?"text":"password",name:"password",placeholder:"Password",autoComplete:"current-password",value:g.password,onChange:ye,required:!0,className:"w-full px-4 py-3 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 transition-colors pr-10"}),t.jsx("button",{type:"button",onClick:()=>K("login"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark-theme:hover:text-gray-300",children:t.jsx("i",{className:O.login?"ri-eye-off-line":"ri-eye-line"})})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("label",{className:"flex items-center gap-2 text-gray-600 dark-theme:text-gray-400 cursor-pointer",children:[t.jsx("input",{type:"checkbox",name:"remember",checked:g.remember,onChange:ye,className:"rounded border-gray-300 text-primary focus:ring-primary"}),"Remember me"]}),t.jsx("button",{type:"button",onClick:()=>G("forgot"),className:"text-primary hover:underline font-medium",children:"Forgot password?"})]}),t.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 rounded-xl bg-primary text-white font-semibold shadow-sm hover:bg-primary-dark transition-all duration-200 disabled:opacity-60",children:a?"Signing in...":"Sign in"})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("p",{className:"text-center text-sm text-gray-400 mb-4",children:"Or continue with"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl border border-sand dark-theme:border-gray-700 text-sm font-medium text-gray-700 dark-theme:text-gray-200 hover:bg-cream dark-theme:hover:bg-gray-800 transition-colors",children:[t.jsx("i",{className:"ri-google-fill text-red-500"})," Google"]}),t.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl border border-sand dark-theme:border-gray-700 text-sm font-medium text-gray-700 dark-theme:text-gray-200 hover:bg-cream dark-theme:hover:bg-gray-800 transition-colors",children:[t.jsx("i",{className:"ri-github-fill"})," GitHub"]})]})]}),t.jsxs("p",{className:"text-center text-sm text-gray-500 dark-theme:text-gray-400 mt-6",children:["Don't have an account?"," ",t.jsx("button",{onClick:()=>G("register"),className:"text-primary font-semibold hover:underline",children:"Sign up"})]})]})}),c==="register"&&t.jsx("div",{className:"animate-fade-in-up",children:t.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl border border-sand dark-theme:border-gray-800 w-full overflow-hidden",children:[t.jsxs("div",{className:"px-6 pt-6 pb-4 border-b border-sand dark-theme:border-gray-800",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark-theme:text-gray-100 tracking-tight",children:"Create your account"}),t.jsx("p",{className:"text-gray-500 dark-theme:text-gray-400 text-sm mt-1",children:"Fill in each section to complete registration"})]}),t.jsx("div",{className:"px-6 pt-4 pb-2",children:t.jsx("div",{className:"flex items-center justify-between mb-4",children:[{n:1,l:"Personal",icon:"ri-user-line"},{n:2,l:"Details",icon:"ri-file-list-line"},{n:3,l:"Photo",icon:"ri-camera-line"},{n:4,l:"Security",icon:"ri-lock-line"}].map((o,l)=>t.jsxs(bt.Fragment,{children:[t.jsxs("button",{type:"button",onClick:()=>{if(o.n<b)S(o.n);else if(o.n>b){let u=!0;for(let y=1;y<o.n;y++)if(!ve(y)){u=!1;break}u?S(o.n):k.fire({...j(),icon:"warning",title:"Incomplete",text:"Please fill all required fields before proceeding.",timer:2e3,showConfirmButton:!1})}},className:"flex flex-col items-center gap-1 group cursor-pointer",children:[t.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-sm transition-all duration-300
                            ${b===o.n?"bg-primary text-white shadow-lg shadow-primary/20":b>o.n?"bg-primary/20 text-primary":"bg-cream-dark dark-theme:bg-gray-800 text-gray-400 dark-theme:text-gray-500"}`,children:b>o.n?t.jsx("i",{className:"ri-check-line text-sm"}):t.jsx("i",{className:`${o.icon} text-sm`})}),t.jsx("span",{className:`text-[10px] font-medium tracking-wide uppercase
                            ${b===o.n?"text-primary":b>o.n?"text-gray-500 dark-theme:text-gray-400":"text-gray-400 dark-theme:text-gray-500"}`,children:o.l})]}),l<3&&t.jsx("div",{className:`flex-1 h-[1px] mx-2 mt-[-12px] transition-colors duration-300 ${b>o.n?"bg-primary/40":"bg-sand dark-theme:bg-gray-800"}`})]},o.n))})}),t.jsxs("div",{className:"px-6 pb-6",children:[b===1&&t.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:["Full Name ",t.jsx("span",{className:"text-primary",children:"*"})]}),t.jsx("input",{type:"text",name:"fullName",placeholder:"Enter your full name",value:n.fullName,onChange:M,className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary focus:ring-1 focus:ring-primary/20 outline-none text-sm text-gray-700 dark-theme:text-gray-200 placeholder-gray-400 dark-theme:placeholder-gray-500 transition-all"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:["College ",t.jsx("span",{className:"text-primary",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:`absolute left-3 top-1/2 -translate-y-1/2 text-sm transition-all duration-300 ${n.college?"ri-checkbox-circle-fill text-green-500":E?"ri-search-line text-primary animate-pulse":"ri-search-line text-gray-400 dark-theme:text-gray-500"}`}),t.jsx("input",{ref:ue,type:"text",placeholder:"Search your college...",value:E||n.college,onChange:o=>{Z(o.target.value),f(l=>({...l,college:"",rollNumber:""})),o.target.value.trim().length>=2&&H(!0)},onFocus:()=>{E.trim().length>=2&&q.length&&H(!0)},className:`w-full pl-9 pr-9 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border outline-none text-sm text-gray-700 dark-theme:text-gray-200 placeholder-gray-400 dark-theme:placeholder-gray-500 transition-all duration-300 ${n.college?"border-green-400 dark-theme:border-green-500 ring-1 ring-green-200 dark-theme:ring-green-500/20":E?"border-primary ring-1 ring-primary/20":"border-sand dark-theme:border-gray-700 focus:border-primary focus:ring-1 focus:ring-primary/20"}`,autoComplete:"off"}),he&&t.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx("i",{className:"ri-loader-4-line animate-spin text-primary text-sm"})}),n.college&&!he&&t.jsx("button",{type:"button",onClick:()=>{f(o=>({...o,college:"",rollNumber:""})),Z("")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark-theme:hover:text-gray-300 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-close-circle-line text-sm"})})]}),Me&&q.length>0&&t.jsx("div",{ref:re,className:"absolute z-50 w-full mt-1 max-h-48 overflow-y-auto rounded-xl bg-white dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 shadow-lg",children:q.map((o,l)=>t.jsxs("button",{type:"button",onClick:()=>{f(u=>({...u,college:o})),Z(""),H(!1),te([])},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark-theme:text-gray-200 hover:bg-primary/10 dark-theme:hover:bg-primary/20 transition-colors cursor-pointer flex items-center gap-2",children:[t.jsx("i",{className:"ri-building-2-line text-xs text-gray-400"}),o]},l))}),Me&&!he&&E.trim().length>=2&&q.length===0&&t.jsx("div",{ref:re,className:"absolute z-50 w-full mt-1 rounded-xl bg-white dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 shadow-lg px-4 py-3 text-sm text-gray-400",children:"No colleges found"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:["Department ",t.jsx("span",{className:"text-primary",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:`absolute left-3 top-1/2 -translate-y-1/2 text-sm transition-all duration-300 ${n.department?"ri-checkbox-circle-fill text-green-500":W?"ri-search-line text-primary animate-pulse":"ri-search-line text-gray-400 dark-theme:text-gray-500"}`}),t.jsx("input",{ref:fe,type:"text",placeholder:"Search department...",value:W||Ye,onChange:o=>{pe(o.target.value),xe(""),f(l=>({...l,department:"",...A?{rollNumber:""}:{}})),o.target.value.trim().length>=2&&$(!0)},onFocus:()=>{W.trim().length>=2&&ae.length&&$(!0)},className:`w-full pl-9 pr-9 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border outline-none text-sm text-gray-700 dark-theme:text-gray-200 placeholder-gray-400 dark-theme:placeholder-gray-500 transition-all duration-300 ${n.department?"border-green-400 dark-theme:border-green-500 ring-1 ring-green-200 dark-theme:ring-green-500/20":W?"border-primary ring-1 ring-primary/20":"border-sand dark-theme:border-gray-700 focus:border-primary focus:ring-1 focus:ring-primary/20"}`,autoComplete:"off"}),ge&&t.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx("i",{className:"ri-loader-4-line animate-spin text-primary text-sm"})}),n.department&&!ge&&t.jsx("button",{type:"button",onClick:()=>{f(o=>({...o,department:"",year:"",rollNumber:""})),pe(""),xe("")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark-theme:hover:text-gray-300 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-close-circle-line text-sm"})})]}),Ie&&ae.length>0&&t.jsx("div",{ref:ne,className:"absolute z-50 w-full mt-1 max-h-48 overflow-y-auto rounded-xl bg-white dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 shadow-lg",children:ae.map((o,l)=>t.jsxs("button",{type:"button",onClick:()=>{let u={};if(A){const y=ie[n.year]||"",z=se(o.code,n.year);u={rollNumber:y&&z?y+z:""}}f(y=>({...y,department:o.code,...u})),xe(o.label),pe(""),$(!1),oe([])},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark-theme:text-gray-200 hover:bg-primary/10 dark-theme:hover:bg-primary/20 transition-colors cursor-pointer flex items-center gap-2",children:[t.jsx("i",{className:"ri-graduation-cap-line text-xs text-gray-400"}),t.jsxs("span",{children:[t.jsx("span",{className:"font-medium text-primary",children:o.degree})," - ",o.name]})]},l))}),Ie&&!ge&&W.trim().length>=2&&ae.length===0&&t.jsx("div",{ref:ne,className:"absolute z-50 w-full mt-1 rounded-xl bg-white dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 shadow-lg px-4 py-3 text-sm text-gray-400",children:"No departments found"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:["Year ",t.jsx("span",{className:"text-primary",children:"*"})]}),t.jsxs("select",{name:"year",value:n.year,onChange:M,className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 transition-all appearance-none cursor-pointer",children:[t.jsx("option",{value:"",children:"Select"}),nt().map(o=>t.jsx("option",{value:o,children:o},o))]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:["Register Number ",t.jsx("span",{className:"text-primary",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",name:"rollNumber",placeholder:A?le?le+"...":"Select dept & year first":"Enter your Register number",value:n.rollNumber,onChange:M,maxLength:A?12:20,className:`w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border outline-none text-sm text-gray-700 dark-theme:text-gray-200 placeholder-gray-400 dark-theme:placeholder-gray-500 transition-all pr-16
                                ${n.rollNumber&&(it?"border-emerald-500/50 focus:border-emerald-500":"border-amber-500/50 focus:border-amber-500")||"border-sand dark-theme:border-gray-700 focus:border-primary"}`}),A&&t.jsxs("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] font-mono text-gray-400 dark-theme:text-gray-500",children:[n.rollNumber.length,"/12"]})]}),A&&le&&t.jsxs("p",{className:"text-[10px] text-gray-500 dark-theme:text-gray-500 mt-1 font-mono",children:["Prefix: ",le," (auto-filled) Â· ",X?.academicYear||""]}),!A&&n.college&&t.jsx("p",{className:"text-[10px] text-gray-500 dark-theme:text-gray-500 mt-1",children:"Enter your college roll number"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:["Email ",t.jsx("span",{className:"text-primary",children:"*"})]}),t.jsx("input",{type:"email",name:"email",placeholder:"you@example.com",value:n.email,onChange:M,className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 placeholder-gray-400 dark-theme:placeholder-gray-500 transition-all"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:["Phone ",t.jsx("span",{className:"text-primary",children:"*"})]}),t.jsx("input",{type:"tel",name:"phone",placeholder:"9876543210",value:n.phone,onChange:M,maxLength:"15",className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 placeholder-gray-400 dark-theme:placeholder-gray-500 transition-all"})]})]}),t.jsxs("button",{type:"button",onClick:we,disabled:!ve(1),className:"w-full py-3 rounded-xl bg-primary text-white font-semibold hover:bg-primary-dark transition-all disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm shadow-lg shadow-primary/10",children:["Continue ",t.jsx("i",{className:"ri-arrow-right-line text-base"})]})]}),b===2&&t.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[t.jsxs("p",{className:"text-xs text-gray-500 dark-theme:text-gray-500 flex items-center gap-1.5",children:[t.jsx("i",{className:"ri-information-line text-primary"})," All fields below are optional"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:"Gender"}),t.jsxs("select",{name:"gender",value:n.gender,onChange:M,className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 transition-all appearance-none cursor-pointer",children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"Male",children:"Male"}),t.jsx("option",{value:"Female",children:"Female"}),t.jsx("option",{value:"Other",children:"Other"}),t.jsx("option",{value:"Prefer not to say",children:"Prefer not to say"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:"Date of Birth"}),t.jsx("input",{type:"date",name:"dateOfBirth",value:n.dateOfBirth,onChange:M,className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 transition-all"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:"Address"}),t.jsx("textarea",{name:"address",placeholder:"Your address",value:n.address,onChange:M,rows:"2",className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 placeholder-gray-400 dark-theme:placeholder-gray-500 transition-all resize-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:"Bio / Tagline"}),t.jsx("input",{type:"text",name:"bio",placeholder:"A short line about you",value:n.bio,onChange:M,className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 placeholder-gray-400 dark-theme:placeholder-gray-500 transition-all"})]}),t.jsxs("div",{className:"border-t border-sand dark-theme:border-gray-800 pt-3 mt-2",children:[t.jsxs("p",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-3 flex items-center gap-1.5 tracking-wide",children:[t.jsx("i",{className:"ri-links-line text-primary"})," Social Profiles"]}),t.jsx("div",{className:"space-y-2.5",children:[{name:"github",icon:"ri-github-fill",color:"text-gray-800 dark-theme:text-gray-200",placeholder:"github.com/username"},{name:"linkedin",icon:"ri-linkedin-box-fill",color:"text-[#0a66c2]",placeholder:"linkedin.com/in/username"},{name:"hackerrank",icon:"ri-code-box-fill",color:"text-[#2ec866]",placeholder:"hackerrank.com/username"},{name:"leetcode",icon:"ri-terminal-box-fill",color:"text-[#ffa116]",placeholder:"leetcode.com/u/username"}].map(o=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 flex items-center justify-center flex-shrink-0",children:t.jsx("i",{className:`${o.icon} ${o.color} text-sm`})}),t.jsx("input",{type:"url",name:o.name,placeholder:o.placeholder,value:n[o.name],onChange:M,className:"flex-1 px-3 py-2 rounded-lg bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-xs text-gray-700 dark-theme:text-gray-200 placeholder-gray-400 dark-theme:placeholder-gray-500 transition-all"})]},o.name))})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsxs("button",{type:"button",onClick:ke,className:"flex-1 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 text-gray-600 dark-theme:text-gray-400 font-medium hover:bg-cream-dark dark-theme:hover:bg-gray-700 transition-all flex items-center justify-center gap-2 text-sm",children:[t.jsx("i",{className:"ri-arrow-left-line"})," Back"]}),t.jsxs("button",{type:"button",onClick:we,className:"flex-[2] py-2.5 rounded-xl bg-primary text-white font-semibold hover:bg-primary-dark transition-all flex items-center justify-center gap-2 text-sm shadow-lg shadow-primary/10",children:["Continue ",t.jsx("i",{className:"ri-arrow-right-line"})]})]})]}),b===3&&t.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center mx-auto mb-3",children:t.jsx("i",{className:"ri-camera-fill text-primary text-xl"})}),t.jsx("p",{className:"text-sm font-medium text-gray-800 dark-theme:text-gray-100",children:"Profile Photo"}),t.jsx("p",{className:"text-xs text-gray-500 dark-theme:text-gray-500 mt-1",children:"Optional â you can always add one later"})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("label",{className:"relative cursor-pointer group",children:[t.jsx("div",{className:`w-32 h-32 rounded-2xl border-2 border-dashed flex items-center justify-center overflow-hidden transition-all duration-300
                            ${n.profilePreview?"border-primary bg-cream dark-theme:bg-gray-800":"border-sand dark-theme:border-gray-700 bg-cream dark-theme:bg-gray-800 group-hover:border-gray-400 dark-theme:group-hover:border-gray-600 group-hover:bg-cream-dark dark-theme:group-hover:bg-gray-700"}`,children:n.profilePreview?t.jsx("img",{src:n.profilePreview,alt:"Preview",className:"w-full h-full object-cover rounded-xl"}):t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-upload-2-line text-2xl text-gray-400 dark-theme:text-gray-500 group-hover:text-gray-600 dark-theme:group-hover:text-gray-300 transition-colors"}),t.jsx("p",{className:"text-[10px] text-gray-400 dark-theme:text-gray-500 mt-1 group-hover:text-gray-600 dark-theme:group-hover:text-gray-300",children:"Click to upload"})]})}),t.jsx("input",{type:"file",accept:"image/*",onChange:Xe,className:"hidden"}),n.profilePreview&&t.jsx("button",{type:"button",onClick:o=>{o.preventDefault(),Ke()},className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-red-500/90 text-white flex items-center justify-center text-xs hover:bg-red-600 transition-colors shadow-lg",children:t.jsx("i",{className:"ri-close-line"})})]})}),t.jsxs("div",{className:"text-center space-y-1",children:[t.jsx("p",{className:"text-[11px] text-gray-500 dark-theme:text-gray-500",children:"Square image, at least 200Ã200px"}),t.jsx("p",{className:"text-[10px] text-gray-400 dark-theme:text-gray-500",children:"Max 5MB â JPG, PNG, or WebP"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{type:"button",onClick:ke,className:"flex-1 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 text-gray-600 dark-theme:text-gray-400 font-medium hover:bg-cream-dark dark-theme:hover:bg-gray-700 transition-all flex items-center justify-center gap-2 text-sm",children:[t.jsx("i",{className:"ri-arrow-left-line"})," Back"]}),t.jsxs("button",{type:"button",onClick:we,className:"flex-[2] py-2.5 rounded-xl bg-primary text-white font-semibold hover:bg-primary-dark transition-all flex items-center justify-center gap-2 text-sm shadow-lg shadow-primary/10",children:["Continue ",t.jsx("i",{className:"ri-arrow-right-line"})]})]})]}),b===4&&t.jsxs("form",{onSubmit:dt,className:"space-y-4 animate-fade-in-up",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:["Username ",t.jsx("span",{className:"text-primary",children:"*"})]}),t.jsx("input",{type:"text",name:"username",placeholder:"Choose a unique username",value:n.username,onChange:M,className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 placeholder-gray-400 dark-theme:placeholder-gray-500 transition-all"}),t.jsx("p",{className:"text-[10px] text-gray-400 dark-theme:text-gray-500 mt-1",children:"Min 4 characters â letters, numbers, underscores"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:["Password ",t.jsx("span",{className:"text-primary",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:O.register?"text":"password",name:"password",placeholder:"Create a strong password",autoComplete:"new-password",value:n.password,onChange:M,className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 placeholder-gray-400 dark-theme:placeholder-gray-500 transition-all pr-10"}),t.jsx("button",{type:"button",onClick:()=>K("register"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark-theme:hover:text-gray-300 transition-colors",children:t.jsx("i",{className:O.register?"ri-eye-off-line":"ri-eye-line"})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-medium text-gray-600 dark-theme:text-gray-400 mb-1.5 block tracking-wide",children:["Confirm Password ",t.jsx("span",{className:"text-primary",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:O.registerConfirm?"text":"password",name:"confirmPassword",placeholder:"Re-enter your password",autoComplete:"new-password",value:n.confirmPassword,onChange:M,className:"w-full px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 placeholder-gray-400 dark-theme:placeholder-gray-500 transition-all pr-10"}),t.jsx("button",{type:"button",onClick:()=>K("registerConfirm"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark-theme:hover:text-gray-300 transition-colors",children:t.jsx("i",{className:O.registerConfirm?"ri-eye-off-line":"ri-eye-line"})})]})]}),t.jsx("div",{className:"bg-cream dark-theme:bg-gray-800 rounded-xl p-3 border border-sand dark-theme:border-gray-700",children:t.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-2",children:[{key:"length",label:"6+ characters"},{key:"upper",label:"Uppercase"},{key:"number",label:"Number"},{key:"lower",label:"Lowercase"},{key:"special",label:"Special char"},{key:"match",label:"Passwords match"}].map(o=>t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("i",{className:`text-xs ${_[o.key]?"ri-checkbox-circle-fill text-emerald-500":"ri-checkbox-blank-circle-line text-gray-300 dark-theme:text-gray-600"}`}),t.jsx("span",{className:`text-[10px] font-medium ${_[o.key]?"text-gray-600 dark-theme:text-gray-400":"text-gray-400 dark-theme:text-gray-500"}`,children:o.label})]},o.key))})}),t.jsxs("div",{className:"flex gap-3 pt-1",children:[t.jsxs("button",{type:"button",onClick:ke,className:"flex-1 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 text-gray-600 dark-theme:text-gray-400 font-medium hover:bg-cream-dark dark-theme:hover:bg-gray-700 transition-all flex items-center justify-center gap-2 text-sm",children:[t.jsx("i",{className:"ri-arrow-left-line"})," Back"]}),t.jsx("button",{type:"submit",disabled:a||!_.length||!_.upper||!_.lower||!_.number||!_.special||!_.match||!n.username||n.username.length<4,className:"flex-[2] py-2.5 rounded-xl bg-primary text-white font-semibold hover:bg-primary-dark transition-all disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm shadow-lg shadow-primary/10",children:a?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-loader-4-line animate-spin"})," Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-user-add-line"})," Create Account"]})})]})]})]}),t.jsx("div",{className:"px-6 py-4 border-t border-sand dark-theme:border-gray-800 bg-cream-dark/50 dark-theme:bg-gray-950/50",children:t.jsxs("p",{className:"text-center text-xs text-gray-500 dark-theme:text-gray-500",children:["Already have an account?"," ",t.jsx("button",{onClick:()=>{G("login"),S(1)},className:"text-primary font-medium hover:underline",children:"Sign in"})]})})]})}),c==="forgot"&&t.jsx("div",{className:"animate-fade-in-up",children:t.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-8 border border-sand dark-theme:border-gray-800",children:[h===1&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100 mb-1",children:"Reset Password"}),t.jsx("p",{className:"text-gray-500 dark-theme:text-gray-400 text-sm mb-6",children:"Enter your email to receive OTP"}),t.jsxs("form",{onSubmit:mt,className:"space-y-4",children:[t.jsx("input",{type:"email",name:"email",placeholder:"Enter your email address",value:D.email,onChange:je,required:!0,className:"w-full px-4 py-3 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 transition-colors"}),t.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 rounded-xl bg-primary text-white font-semibold shadow-sm hover:bg-primary-dark transition-all duration-200 disabled:opacity-60",children:a?"Sending...":"Send OTP"})]})]}),h===2&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100 mb-1",children:"Enter OTP"}),t.jsx("p",{className:"text-gray-500 dark-theme:text-gray-400 text-sm mb-6",children:"Please enter the OTP sent to your email"}),t.jsxs("form",{onSubmit:ht,className:"space-y-4",children:[t.jsx("div",{className:"flex justify-center gap-3",children:D.otp.map((o,l)=>t.jsx("input",{type:"text",maxLength:"1",pattern:"[0-9]",inputMode:"numeric",value:o,onChange:u=>st(l,u.target.value),onKeyDown:u=>lt(l,u),required:!0,className:"otp-input w-12 h-12 text-center text-lg font-bold rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-gray-700 dark-theme:text-gray-200 transition-colors"},l))}),t.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 rounded-xl bg-primary text-white font-semibold shadow-sm hover:bg-primary-dark transition-all duration-200 disabled:opacity-60",children:a?"Verifying...":"Verify OTP"})]})]}),h===3&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100 mb-1",children:"Set New Password"}),t.jsx("p",{className:"text-gray-500 dark-theme:text-gray-400 text-sm mb-6",children:"Enter your new password"}),t.jsxs("form",{onSubmit:ut,className:"space-y-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:O.newPassword?"text":"password",name:"newPassword",placeholder:"New password",autoComplete:"new-password",value:D.newPassword,onChange:je,required:!0,className:"w-full px-4 py-3 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 transition-colors pr-10"}),t.jsx("button",{type:"button",onClick:()=>K("newPassword"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark-theme:hover:text-gray-300",children:t.jsx("i",{className:O.newPassword?"ri-eye-off-line":"ri-eye-line"})})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:O.confirmPassword?"text":"password",name:"confirmPassword",placeholder:"Confirm password",autoComplete:"new-password",value:D.confirmPassword,onChange:je,required:!0,className:"w-full px-4 py-3 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 focus:border-primary outline-none text-sm text-gray-700 dark-theme:text-gray-200 transition-colors pr-10"}),t.jsx("button",{type:"button",onClick:()=>K("confirmPassword"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark-theme:hover:text-gray-300",children:t.jsx("i",{className:O.confirmPassword?"ri-eye-off-line":"ri-eye-line"})})]}),t.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 rounded-xl bg-primary text-white font-semibold shadow-sm hover:bg-primary-dark transition-all duration-200 disabled:opacity-60",children:a?"Resetting...":"Reset Password"})]})]}),t.jsxs("p",{className:"text-center text-sm text-gray-500 dark-theme:text-gray-400 mt-6",children:["Remember your password?"," ",t.jsx("button",{onClick:()=>G("login"),className:"text-primary font-semibold hover:underline",children:"Sign in"})]})]})})]})]}),v&&t.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:be}),t.jsxs("div",{className:"relative bg-white dark-theme:bg-gray-900 rounded-2xl border border-sand dark-theme:border-gray-700 w-[90vw] max-w-lg mx-4 overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-sand dark-theme:border-gray-700",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-crop-line text-primary text-lg"}),t.jsx("h3",{className:"text-gray-800 dark-theme:text-gray-100 font-semibold text-sm",children:"Crop Profile Photo"})]}),t.jsx("button",{onClick:be,className:"w-7 h-7 rounded-lg bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 flex items-center justify-center text-gray-500 dark-theme:text-gray-400 hover:text-gray-800 dark-theme:hover:text-white hover:border-gray-400 dark-theme:hover:border-gray-500 transition-all",children:t.jsx("i",{className:"ri-close-line text-sm"})})]}),t.jsx("div",{className:"relative w-full",style:{height:"350px",background:"#111"},children:t.jsx(Bt,{image:P,crop:B,zoom:L,aspect:1,cropShape:"round",showGrid:!1,onCropChange:F,onZoomChange:U,onCropComplete:Je})}),t.jsx("div",{className:"px-5 py-3 border-t border-sand dark-theme:border-gray-700 bg-white dark-theme:bg-gray-900",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("i",{className:"ri-subtract-line text-gray-500 dark-theme:text-gray-400 text-sm"}),t.jsx("input",{type:"range",min:1,max:3,step:.05,value:L,onChange:o=>U(Number(o.target.value)),className:"flex-1 h-1 appearance-none rounded-full bg-sand dark-theme:bg-gray-700 outline-none cursor-pointer",style:{accentColor:"#d4a574"}}),t.jsx("i",{className:"ri-add-line text-gray-500 dark-theme:text-gray-400 text-sm"})]})}),t.jsxs("div",{className:"flex gap-3 px-5 py-4 border-t border-sand dark-theme:border-gray-700",children:[t.jsx("button",{type:"button",onClick:be,className:"flex-1 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 text-gray-600 dark-theme:text-gray-400 font-medium hover:bg-cream-dark dark-theme:hover:bg-gray-700 hover:border-gray-400 dark-theme:hover:border-gray-500 transition-all text-sm",children:"Cancel"}),t.jsxs("button",{type:"button",onClick:et,className:"flex-[2] py-2.5 rounded-xl bg-primary text-white font-semibold hover:bg-primary-dark transition-all text-sm shadow-lg shadow-primary/10 flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-check-line"})," Apply Crop"]})]})]})]})]})};export{Ut as default};
