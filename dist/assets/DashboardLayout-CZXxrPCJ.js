import{r,e as v,u as w,b as S,j as e,L as n,S as C,g as M}from"./index-DWc0sipz.js";const O=[{path:"/student",icon:"ri-dashboard-line",label:"Dashboard"},{path:"/student/my-courses",icon:"ri-book-open-line",label:"My Courses"},{path:"/student/my-assignments",icon:"ri-task-line",label:"Assignments"},{path:"/student/my-doubts",icon:"ri-chat-3-line",label:"My Doubts"},{path:"/student/my-grades",icon:"ri-bar-chart-box-line",label:"My Grades"},{path:"/student/my-progress",icon:"ri-line-chart-line",label:"My Progress"},{path:"/student/coding-practice",icon:"ri-code-s-slash-line",label:"Coding Practice"},{path:"/student/code-editor",icon:"ri-terminal-box-line",label:"Code Editor"},{path:"/student/aptitude-tests",icon:"ri-question-answer-line",label:"Aptitude Tests"},{path:"/student/study-material",icon:"ri-file-text-line",label:"Study Material"},{path:"/student/learning-games",icon:"ri-gamepad-line",label:"Learning Games"}],L=[{path:"/mentor",icon:"ri-dashboard-line",label:"Dashboard"},{path:"/mentor/new-assignments",icon:"ri-task-line",label:"Assignments"},{path:"/mentor/doubts",icon:"ri-chat-3-line",label:"Student Doubts"},{path:"/mentor/students-progress",icon:"ri-line-chart-line",label:"Student Progress"}],T=({children:h,pageTitle:g,role:s="student"})=>{const[d,l]=r.useState(!1),[c,a]=r.useState(!1),u=v(),p=w(),{user:i,logout:b}=S(),m=r.useRef(null),f=localStorage.getItem("theme"),[o,y]=r.useState(f||"light");r.useEffect(()=>{o==="dark-theme"?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")},[o]),r.useEffect(()=>{const t=N=>{m.current&&!m.current.contains(N.target)&&a(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const j=()=>{const t=o==="light"?"dark-theme":"light";y(t),document.body.classList.toggle("dark-theme"),localStorage.setItem("theme",t)},k=s==="mentor"?L:O,x=()=>{C.fire({...M(),title:"Sign Out?",text:"Are you sure you want to sign out?",icon:"question",showCancelButton:!0,confirmButtonColor:"#d4a574",confirmButtonText:"Yes, sign out"}).then(t=>{t.isConfirmed&&(b(),p("/auth"))})};return e.jsxs("div",{className:"flex h-screen overflow-hidden bg-cream dark-theme:bg-gray-950",children:[d&&e.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 lg:hidden",onClick:()=>l(!1)}),e.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-[260px] bg-gray-950 dark-theme:bg-gray-900 flex flex-col transition-transform duration-300 ease-in-out
        ${d?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 px-5 py-5",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary/20 flex items-center justify-center",children:e.jsx("i",{className:"ri-seedling-fill text-primary-light text-lg"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-bold text-[15px] text-white leading-tight",children:"Sowberry"}),e.jsx("span",{className:"text-[10px] font-medium tracking-wider text-gray-500 uppercase",children:s==="mentor"?"MENTOR":"STUDENT"})]})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-2 px-3 space-y-0.5",children:k.map(t=>e.jsxs(n,{to:t.path,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-[13px] font-medium transition-all duration-150
                ${u.pathname===t.path?"bg-white/10 text-white":"text-gray-400 hover:bg-white/5 hover:text-gray-200"}`,onClick:()=>l(!1),children:[e.jsx("i",{className:`${t.icon} text-base`}),e.jsx("span",{children:t.label})]},t.path))}),e.jsxs("div",{className:"px-3 py-4 border-t border-white/10 space-y-0.5",children:[i?.role==="admin"&&s==="mentor"&&e.jsxs(n,{to:"/admin",className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-[13px] font-medium text-primary-light hover:bg-white/5 hover:text-white transition-all duration-150",onClick:()=>l(!1),children:[e.jsx("i",{className:"ri-arrow-left-line text-base"}),e.jsx("span",{children:"Back to Admin"})]}),e.jsxs("button",{onClick:x,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-[13px] font-medium text-gray-400 hover:bg-white/5 hover:text-gray-200 transition-all duration-150",children:[e.jsx("i",{className:"ri-logout-box-line text-base"}),e.jsx("span",{children:"Sign Out"})]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-screen overflow-hidden",children:[e.jsxs("header",{className:"h-14 bg-white dark-theme:bg-gray-900 border-b border-sand dark-theme:border-gray-800 flex items-center justify-between px-4 lg:px-6 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:"lg:hidden w-9 h-9 rounded-lg flex items-center justify-center text-gray-600 dark-theme:text-gray-400 hover:bg-cream-dark dark-theme:hover:bg-gray-800 transition-colors",onClick:()=>l(!d),children:e.jsx("i",{className:"ri-menu-line text-lg"})}),e.jsx("h2",{className:"text-[15px] font-semibold text-gray-800 dark-theme:text-gray-200",children:g})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:j,className:"w-9 h-9 rounded-lg flex items-center justify-center text-gray-500 dark-theme:text-gray-400 hover:bg-cream-dark dark-theme:hover:bg-gray-800 hover:text-gray-700 dark-theme:hover:text-gray-200 transition-colors",children:e.jsx("i",{className:o==="dark-theme"?"ri-moon-line text-base":"ri-sun-line text-base"})}),e.jsxs("div",{ref:m,className:"relative ml-1",children:[e.jsxs("button",{onClick:()=>a(!c),className:"flex items-center gap-2 px-2 py-1.5 rounded-lg hover:bg-cream-dark dark-theme:hover:bg-gray-800 transition-colors",children:[e.jsx("img",{src:`https://ui-avatars.com/api/?name=${encodeURIComponent(i?.fullName||(s==="mentor"?"Mentor":"Student"))}&size=28&background=c96442&color=fff&bold=true`,alt:"User",className:"w-7 h-7 rounded-md"}),e.jsxs("div",{className:"hidden sm:flex flex-col items-start",children:[e.jsx("span",{className:"text-[13px] font-medium text-gray-700 dark-theme:text-gray-200 leading-tight",children:i?.fullName||(s==="mentor"?"Mentor":"Student")}),e.jsx("span",{className:"text-[10px] text-gray-400 capitalize",children:s})]}),e.jsx("i",{className:`ri-arrow-down-s-line text-gray-400 text-sm hidden sm:block transition-transform ${c?"rotate-180":""}`})]}),c&&e.jsxs("div",{className:"absolute right-0 top-11 w-48 bg-white dark-theme:bg-gray-900 rounded-xl shadow-lg border border-sand dark-theme:border-gray-800 overflow-hidden z-50 py-1",children:[e.jsxs("div",{className:"px-3 py-2.5 border-b border-sand dark-theme:border-gray-800",children:[e.jsx("p",{className:"text-[13px] font-semibold text-gray-700 dark-theme:text-gray-200",children:i?.fullName||(s==="mentor"?"Mentor":"Student")}),e.jsx("p",{className:"text-[11px] text-gray-400 truncate",children:i?.email||""})]}),e.jsxs(n,{to:s==="mentor"?"/mentor":"/student",onClick:()=>a(!1),className:"flex items-center gap-2 px-3 py-2 text-[13px] text-gray-700 dark-theme:text-gray-200 hover:bg-cream dark-theme:hover:bg-gray-800 transition-colors",children:[e.jsx("i",{className:"ri-dashboard-line text-sm"})," Dashboard"]}),e.jsxs(n,{to:s==="mentor"?"/mentor/profile":"/student/profile",onClick:()=>a(!1),className:"flex items-center gap-2 px-3 py-2 text-[13px] text-gray-700 dark-theme:text-gray-200 hover:bg-cream dark-theme:hover:bg-gray-800 transition-colors",children:[e.jsx("i",{className:"ri-user-line text-sm"})," My Profile"]}),s==="student"&&e.jsxs(n,{to:"/student/my-progress",onClick:()=>a(!1),className:"flex items-center gap-2 px-3 py-2 text-[13px] text-gray-700 dark-theme:text-gray-200 hover:bg-cream dark-theme:hover:bg-gray-800 transition-colors",children:[e.jsx("i",{className:"ri-line-chart-line text-sm"})," My Progress"]}),s==="mentor"&&e.jsxs(n,{to:"/mentor/students-progress",onClick:()=>a(!1),className:"flex items-center gap-2 px-3 py-2 text-[13px] text-gray-700 dark-theme:text-gray-200 hover:bg-cream dark-theme:hover:bg-gray-800 transition-colors",children:[e.jsx("i",{className:"ri-line-chart-line text-sm"})," Student Progress"]}),e.jsx("div",{className:"border-t border-sand dark-theme:border-gray-800 my-1"}),e.jsxs("button",{onClick:()=>{a(!1),x()},className:"w-full flex items-center gap-2 px-3 py-2 text-[13px] text-danger hover:bg-danger/5 transition-colors",children:[e.jsx("i",{className:"ri-logout-box-line text-sm"})," Sign Out"]})]})]})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto p-5 lg:p-8",children:h})]})]})};export{T as D};
