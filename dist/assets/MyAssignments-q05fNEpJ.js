import{r as a,j as e,I as h,s as o,S as i}from"./index-DYHuGrbk.js";import{D as b}from"./DashboardLayout-BmQqhA0X.js";const y=()=>{const[n,x]=a.useState([]),[u,l]=a.useState(!0),[d,c]=a.useState(null),m=async()=>{l(!0);const s=await o.getAssignments();s.success&&x(s.assignments||[]),l(!1)};a.useEffect(()=>{m()},[]);const g=async s=>{const{value:t}=await i.fire({title:`Submit: ${s.title}`,input:"textarea",inputPlaceholder:"Paste your answer or solution here...",showCancelButton:!0,confirmButtonText:"Submit",confirmButtonColor:"#6366f1",background:"#fff",color:"#1f2937",inputValidator:r=>!r&&"Please enter your submission"});if(t){c(s.id);const r=await o.submitAssignment(s.id,{content:t});c(null),r.success?(i.fire({icon:"success",title:"Submitted!",timer:1500,showConfirmButton:!1,background:"#fff",color:"#1f2937"}),m()):i.fire({icon:"error",title:"Error",text:r.message,background:"#fff",color:"#1f2937"})}},f=s=>{const t={pending:"bg-amber-500/15 text-amber-400",submitted:"bg-blue-500/15 text-blue-400",graded:"bg-green-500/15 text-green-400",late:"bg-red-500/15 text-red-400"};return t[s]||t.pending};return e.jsx(b,{pageTitle:"My Assignments",role:"student",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:"My Assignments"}),u?e.jsx(h,{}):n.length===0?e.jsxs("div",{className:"text-center py-20 text-gray-400",children:[e.jsx("i",{className:"ri-task-line text-4xl mb-3 block"}),e.jsx("p",{children:"No assignments yet"})]}):e.jsx("div",{className:"space-y-4",children:n.map(s=>e.jsxs("div",{className:"bg-white dark-theme:bg-gray-900 rounded-2xl p-5 border border-sand dark-theme:border-gray-800 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"ri-task-line text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark-theme:text-gray-100 text-sm",children:s.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:s.courseName||"Course"}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-[11px] text-gray-400",children:[e.jsxs("span",{children:[e.jsx("i",{className:"ri-calendar-line mr-1"}),"Due: ",s.dueDate?new Date(s.dueDate).toLocaleDateString():"No deadline"]}),e.jsxs("span",{children:[e.jsx("i",{className:"ri-medal-line mr-1"}),s.maxScore||100," pts"]}),s.grade!=null&&e.jsxs("span",{className:"text-green-600 font-medium",children:[e.jsx("i",{className:"ri-check-line mr-1"}),"Grade: ",s.grade]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-medium ${f(s.status)}`,children:s.status||"pending"}),(!s.status||s.status==="pending")&&e.jsx("button",{onClick:()=>g(s),disabled:d===s.id,className:"px-4 py-2 rounded-xl bg-primary text-white text-xs font-medium hover:bg-primary-dark disabled:opacity-50",children:d===s.id?"Submitting...":"Submit"})]})]}),s.feedback&&e.jsxs("div",{className:"mt-3 p-3 bg-green-50 dark-theme:bg-green-900/20 rounded-xl text-xs text-green-700 dark-theme:text-green-400",children:[e.jsx("i",{className:"ri-chat-1-line mr-1"}),"Feedback: ",s.feedback]})]},s.id))})]})})};export{y as default};
