import{r as c,j as e,d as l,S as n,g as o}from"./index-Ci2oCG6z.js";import{A as P}from"./AdminLayout-DUJX2VlJ.js";import{e as ae,a as ie}from"./exportData-BhRp0csh.js";import"./jspdf.es.min-Do-SSO7r.js";const ce=()=>{const[x,V]=c.useState([]),[z,C]=c.useState(!0),[j,w]=c.useState("all"),[O,h]=c.useState(!1),[u,S]=c.useState(null),[a,p]=c.useState(null),[T,B]=c.useState(!1),[b,D]=c.useState("subjects"),[E,A]=c.useState([]),[_,R]=c.useState(!1),$={title:"",courseCode:"",description:"",category:"",courseType:"theory",difficulty:"beginner",semester:"",duration:"",maxStudents:50,subjects:[{title:"",code:"",description:""}]},[i,d]=c.useState({...$}),g=async()=>{C(!0);const t=await l.getCourses();t.success&&V(t.courses||[]),C(!1)};c.useEffect(()=>{g()},[]);const H=()=>{S(null),d({...$}),h(!0)},I=t=>{S(t),d({title:t.title||"",courseCode:t.courseCode||"",description:t.description||"",category:t.category||"",courseType:t.courseType||"theory",difficulty:t.difficulty||"beginner",semester:t.semester||"",duration:t.duration||"",maxStudents:t.maxStudents||50,subjects:[]}),h(!0)},G=async t=>{if(t.preventDefault(),!i.title.trim())return n.fire({...o(),icon:"warning",title:"Title required"});const r={...i,subjects:i.subjects?.filter(m=>m.title?.trim())},s=u?await l.updateCourse(u.id,r):await l.createCourse(r);s.success?(n.fire({...o(),icon:"success",title:u?"Updated!":"Created!",timer:1500,showConfirmButton:!1}),h(!1),g()):n.fire({...o(),icon:"error",title:"Error",text:s.message})},J=async t=>{B(!0),p(null),D("subjects"),A([]);const r=await l.getCourseDetail(t.id);r.success?p(r.course):n.fire({...o(),icon:"error",title:"Error",text:r.message}),B(!1)},y=async()=>{if(a){const t=await l.getCourseDetail(a.id);t.success&&p(t.course)}},v=async()=>{if(!a)return;R(!0);const t=await l.getCourseContent(a.id);t.success&&A(t.content||[]),R(!1)};c.useEffect(()=>{b==="content"&&a&&v()},[b,a?.id]);const K=async()=>{const{value:t}=await n.fire({...o(),title:"Add Subject",html:'<input id="s-title" class="swal2-input" placeholder="Subject Title"><input id="s-code" class="swal2-input" placeholder="Subject Code (optional)"><textarea id="s-desc" class="swal2-textarea" placeholder="Description (optional)"></textarea>',showCancelButton:!0,confirmButtonColor:"#d4a574",preConfirm:()=>{const r=document.getElementById("s-title").value;if(!r){n.showValidationMessage("Title required");return}return{title:r,code:document.getElementById("s-code").value,description:document.getElementById("s-desc").value}}});t&&(await l.addSubject(a.id,t)).success&&y()},Q=async(t,r)=>{(await n.fire({...o(),title:"Delete Subject?",text:`Remove "${r}" and all its topics?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",confirmButtonText:"Delete"})).isConfirmed&&(await l.deleteSubject(t)).success&&y()},W=async t=>{const{value:r}=await n.fire({...o(),title:"Add Topic",html:'<input id="t-title" class="swal2-input" placeholder="Topic Title"><textarea id="t-desc" class="swal2-textarea" placeholder="Description (optional)"></textarea>',showCancelButton:!0,confirmButtonColor:"#d4a574",preConfirm:()=>{const s=document.getElementById("t-title").value;if(!s){n.showValidationMessage("Title required");return}return{title:s,description:document.getElementById("t-desc").value}}});r&&(await l.addTopic(t,r)).success&&y()},X=async t=>{(await n.fire({...o(),title:"Delete Topic?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",confirmButtonText:"Delete"})).isConfirmed&&(await l.deleteTopic(t)).success&&y()},Y=async()=>{const t=a?.subjects||[],{value:r}=await n.fire({...o(),title:"Add Content",width:520,html:`<select id="c-sub" class="swal2-select" style="width:100%;margin-bottom:8px"><option value="">No Subject</option>${t.map(s=>`<option value="${s.id}">${s.title}</option>`).join("")}</select><input id="c-title" class="swal2-input" placeholder="Content Title" style="width:100%"><select id="c-type" class="swal2-select" style="width:100%;margin-bottom:8px"><option value="text">Text</option><option value="video">Video URL</option><option value="document">Document URL</option><option value="link">Link</option></select><textarea id="c-data" class="swal2-textarea" placeholder="Content / URL" style="width:100%"></textarea>`,showCancelButton:!0,confirmButtonColor:"#d4a574",preConfirm:()=>{const s=document.getElementById("c-title").value;if(!s){n.showValidationMessage("Title required");return}return{subjectId:document.getElementById("c-sub").value||null,title:s,contentType:document.getElementById("c-type").value,contentData:document.getElementById("c-data").value}}});r&&(await l.addContent(a.id,r)).success&&v()},Z=async t=>{(await n.fire({...o(),title:"Delete Content?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",confirmButtonText:"Delete"})).isConfirmed&&(await l.deleteContent(t)).success&&v()},L=(t,r)=>{n.fire({...o(),title:"Approve Course?",text:`Approve "${r}"?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#16a34a",confirmButtonText:"Approve"}).then(async s=>{s.isConfirmed&&(await l.approveCourse(t)).success&&(n.fire({...o(),icon:"success",title:"Approved!",timer:1500,showConfirmButton:!1}),g())})},ee=async(t,r)=>{const{value:s}=await n.fire({...o(),title:"Reject Course?",input:"textarea",inputLabel:`Reason for rejecting "${r}"`,inputPlaceholder:"Enter rejection reason...",showCancelButton:!0,confirmButtonColor:"#dc2626",confirmButtonText:"Reject",inputValidator:m=>{if(!m)return"Reason required"}});s&&(await l.rejectCourse(t,s)).success&&(n.fire({...o(),icon:"success",title:"Rejected",timer:1500,showConfirmButton:!1}),g())},te=(t,r)=>{n.fire({...o(),title:"Delete Course?",text:`Remove "${r}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",confirmButtonText:"Delete"}).then(async s=>{s.isConfirmed&&(await l.deleteCourse(t)).success&&(g(),a?.id===t&&p(null),n.fire({...o(),icon:"success",title:"Deleted!",timer:1500,showConfirmButton:!1}))})},F=async(t,r)=>{(await l.updateCourseStatus(t,r)).success&&g()},re=()=>d(t=>({...t,subjects:[...t.subjects,{title:"",code:"",description:""}]})),se=t=>d(r=>({...r,subjects:r.subjects.filter((s,m)=>m!==t)})),M=(t,r,s)=>d(m=>{const k=[...m.subjects];return k[t]={...k[t],[r]:s},{...m,subjects:k}}),U=t=>({pending:"bg-amber-500/15 text-amber-400",active:"bg-green-500/15 text-green-400",rejected:"bg-red-500/15 text-red-400",draft:"bg-gray-500/15 text-gray-400",inactive:"bg-gray-500/15 text-gray-500"})[t]||"bg-gray-100 text-gray-800",N=j==="all"?x:x.filter(t=>t.status===j),f=x.filter(t=>t.status==="pending"),q=()=>{const t=["Title","Code","Mentor","Category","Type","Difficulty","Status","Enrolled"],r=N.map(s=>[s.title,s.courseCode,s.mentorName||"—",s.category||"—",s.courseType,s.difficulty,s.status,s.enrollmentCount||0]);return{title:"Courses Report",columns:t,rows:r,fileName:"Sowberry_Courses"}};return a||T?e.jsx(P,{children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("button",{onClick:()=>p(null),className:"flex items-center gap-2 text-primary hover:text-primary-dark mb-4 font-medium",children:[e.jsx("i",{className:"ri-arrow-left-line"})," Back to Courses"]}),T?e.jsx("div",{className:"flex items-center justify-center py-10",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-2xl text-primary"})}):e.jsxs("div",{className:"bg-white dark-theme:bg-gray-800 rounded-xl shadow-lg",children:[e.jsxs("div",{className:"p-6 border-b dark-theme:border-gray-700 flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark-theme:text-gray-100",children:a.title}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-500 dark-theme:text-gray-400",children:[a.courseCode&&e.jsx("span",{className:"bg-primary/10 dark-theme:bg-primary/20 text-primary-dark dark-theme:text-primary-light px-2 py-0.5 rounded text-xs font-mono",children:a.courseCode}),e.jsxs("span",{children:[e.jsx("i",{className:"ri-user-star-line mr-1"}),a.mentorName]}),e.jsxs("span",{children:[e.jsx("i",{className:"ri-team-line mr-1"}),a.enrollmentCount||0," enrolled"]}),a.contentCount>0&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-file-text-line mr-1"}),a.contentCount," content items"]})]}),a.description&&e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark-theme:text-gray-400",children:a.description})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>I(a),className:"px-3 py-1.5 bg-blue-100 dark-theme:bg-blue-900/30 text-blue-700 dark-theme:text-blue-300 rounded-lg text-sm font-medium hover:bg-blue-200 transition",children:[e.jsx("i",{className:"ri-edit-line mr-1"}),"Edit"]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${U(a.status)}`,children:a.status})]})]}),e.jsx("div",{className:"border-b dark-theme:border-gray-700 flex",children:["subjects","content"].map(t=>e.jsx("button",{onClick:()=>D(t),className:`px-6 py-3 text-sm font-medium border-b-2 transition ${b===t?"border-purple-600 text-primary":"border-transparent text-gray-500 hover:text-gray-700 dark-theme:text-gray-400"}`,children:t.charAt(0).toUpperCase()+t.slice(1)},t))}),e.jsxs("div",{className:"p-6",children:[b==="subjects"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark-theme:text-gray-100",children:"Subjects & Topics"}),e.jsxs("button",{onClick:K,className:"px-4 py-2 bg-primary text-white text-sm rounded-lg hover:bg-primary-dark transition",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Add Subject"]})]}),!a.subjects||a.subjects.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:'No subjects yet. Click "Add Subject" to begin organizing the course.'}):e.jsx("div",{className:"space-y-4",children:a.subjects.map(t=>e.jsxs("div",{className:"border dark-theme:border-gray-700 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark-theme:bg-gray-700/50",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark-theme:text-gray-100",children:t.title}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[t.code&&e.jsx("span",{className:"text-xs text-gray-500 font-mono",children:t.code}),e.jsxs("span",{className:"text-xs text-gray-400",children:[t.topicCount||0," topics"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>W(t.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:[e.jsx("i",{className:"ri-add-circle-line mr-1"}),"Add Topic"]}),e.jsx("button",{onClick:()=>Q(t.id,t.title),className:"text-red-500 hover:text-red-700 text-sm",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),t.topics&&t.topics.length>0&&e.jsx("div",{className:"divide-y dark-theme:divide-gray-700",children:t.topics.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 px-6",children:[e.jsxs("span",{className:"text-sm text-gray-700 dark-theme:text-gray-300",children:[e.jsx("i",{className:"ri-bookmark-line mr-2 text-primary"}),r.title]}),e.jsx("button",{onClick:()=>X(r.id),className:"text-red-400 hover:text-red-600 text-xs opacity-0 group-hover:opacity-100 transition",children:e.jsx("i",{className:"ri-close-line"})})]},r.id))})]},t.id))})]}),b==="content"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark-theme:text-gray-100",children:"Course Content"}),e.jsxs("button",{onClick:Y,className:"px-4 py-2 bg-primary text-white text-sm rounded-lg hover:bg-primary-dark transition",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Add Content"]})]}),_?e.jsx("div",{className:"flex items-center justify-center py-10",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-2xl text-primary"})}):E.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No content yet. Add videos, documents, or text content."}):e.jsx("div",{className:"space-y-3",children:E.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark-theme:bg-gray-700/50 rounded-lg group",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark-theme:text-gray-100",children:t.title}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-1",children:[e.jsx("span",{className:"bg-primary/10 dark-theme:bg-primary/20 text-primary px-2 py-0.5 rounded",children:t.contentType}),t.subjectTitle&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-bookmark-line mr-1"}),t.subjectTitle]}),t.uploaderName&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-user-line mr-1"}),t.uploaderName]})]})]}),e.jsx("button",{onClick:()=>Z(t.id),className:"text-red-500 hover:text-red-700",children:e.jsx("i",{className:"ri-delete-bin-line"})})]},t.id))})]})]})]})]})}):e.jsxs(P,{children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark-theme:text-gray-100",children:"Courses Overview"}),e.jsx("p",{className:"text-gray-500 dark-theme:text-gray-400 text-sm mt-1",children:"Manage all courses, subjects, and content"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-white dark-theme:bg-gray-900 border border-sand dark-theme:border-gray-700 rounded-xl px-1",children:[e.jsxs("button",{onClick:()=>ae(q()),className:"px-3 py-2 rounded-lg text-xs font-medium text-red-500 hover:bg-red-50 dark-theme:hover:bg-red-900/20 transition-colors flex items-center gap-1.5",title:"Download PDF",children:[e.jsx("i",{className:"ri-file-pdf-2-line text-sm"})," PDF"]}),e.jsx("div",{className:"w-px h-5 bg-sand dark-theme:bg-gray-700"}),e.jsxs("button",{onClick:()=>ie(q()),className:"px-3 py-2 rounded-lg text-xs font-medium text-green-600 hover:bg-green-50 dark-theme:hover:bg-green-900/20 transition-colors flex items-center gap-1.5",title:"Download Excel",children:[e.jsx("i",{className:"ri-file-excel-2-line text-sm"})," Excel"]})]}),e.jsxs("button",{onClick:H,className:"px-5 py-2.5 bg-primary text-white rounded-xl hover:bg-primary-dark transition shadow-lg hover:shadow-xl font-medium",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Create Course"]})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[{label:"Total",val:x.length,color:"purple",icon:"ri-book-open-line"},{label:"Active",val:x.filter(t=>t.status==="active").length,color:"green",icon:"ri-checkbox-circle-line"},{label:"Pending",val:f.length,color:"amber",icon:"ri-time-line"},{label:"Rejected",val:x.filter(t=>t.status==="rejected").length,color:"red",icon:"ri-close-circle-line"},{label:"Enrollments",val:x.reduce((t,r)=>t+(r.enrollmentCount||0),0),color:"blue",icon:"ri-team-line"}].map((t,r)=>e.jsx("div",{className:"bg-white dark-theme:bg-gray-800 rounded-xl p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg bg-${t.color}-100 dark-theme:bg-${t.color}-900/30 flex items-center justify-center`,children:e.jsx("i",{className:`${t.icon} text-${t.color}-600 text-lg`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark-theme:text-gray-100",children:t.val}),e.jsx("p",{className:"text-xs text-gray-500 dark-theme:text-gray-400",children:t.label})]})]})},r))}),f.length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-amber-50 dark-theme:bg-amber-900/20 border border-amber-200 dark-theme:border-amber-800 rounded-xl flex items-center gap-3",children:[e.jsx("i",{className:"ri-alarm-warning-line text-amber-600 text-xl"}),e.jsxs("span",{className:"text-amber-800 dark-theme:text-amber-300 font-medium",children:[f.length," course",f.length>1?"s":""," awaiting approval"]}),e.jsx("button",{onClick:()=>w("pending"),className:"ml-auto px-3 py-1.5 rounded-lg bg-amber-100 dark-theme:bg-amber-900/30 text-amber-700 text-xs font-medium hover:bg-amber-200",children:"Review Now"})]}),e.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:["all","active","pending","rejected","draft","inactive"].map(t=>e.jsxs("button",{onClick:()=>w(t),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition ${j===t?"bg-primary text-white shadow":"bg-white dark-theme:bg-gray-800 text-gray-600 dark-theme:text-gray-300 hover:bg-gray-50 dark-theme:hover:bg-gray-700 border dark-theme:border-gray-700"}`,children:[t==="all"?"All":t.charAt(0).toUpperCase()+t.slice(1)," (",t==="all"?x.length:x.filter(r=>r.status===t).length,")"]},t))}),z?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-2xl text-primary"})}):N.length===0?e.jsxs("div",{className:"text-center py-16 bg-white dark-theme:bg-gray-800 rounded-xl",children:[e.jsx("i",{className:"ri-book-open-line text-5xl text-gray-300 dark-theme:text-gray-600 mb-3 block"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 dark-theme:text-gray-400",children:"No courses found"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:'Click "Create Course" to add your first course'})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:N.map(t=>e.jsx("div",{className:"bg-white dark-theme:bg-gray-800 rounded-xl shadow-sm hover:shadow-lg transition overflow-hidden group border border-transparent hover:border-primary/20 dark-theme:hover:border-purple-800",children:e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark-theme:text-gray-100 truncate",children:t.title}),t.courseCode&&e.jsx("span",{className:"text-xs text-gray-500 font-mono",children:t.courseCode})]}),e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ml-2 whitespace-nowrap ${U(t.status)}`,children:t.status})]}),e.jsx("p",{className:"text-sm text-gray-500 dark-theme:text-gray-400 line-clamp-2 mb-3",children:t.description||"No description"}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 dark-theme:text-gray-400 mb-4 flex-wrap",children:[e.jsxs("span",{children:[e.jsx("i",{className:"ri-user-star-line mr-1"}),t.mentorName||"Unassigned"]}),e.jsxs("span",{children:[e.jsx("i",{className:"ri-team-line mr-1"}),t.enrollmentCount||0," enrolled"]}),t.difficulty&&e.jsx("span",{className:"capitalize",children:t.difficulty}),t.subjectCount>0&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-book-2-line mr-1"}),t.subjectCount," subjects"]})]}),t.status==="rejected"&&t.rejectionReason&&e.jsxs("div",{className:"bg-red-50 dark-theme:bg-red-900/20 rounded-lg p-2 mb-3 text-xs text-red-600",children:[e.jsx("i",{className:"ri-information-line mr-1"}),t.rejectionReason]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("button",{onClick:()=>J(t),className:"px-3 py-1.5 bg-primary/10 dark-theme:bg-primary/20 text-primary-dark dark-theme:text-primary-light rounded-lg text-sm font-medium hover:bg-purple-200 dark-theme:hover:bg-purple-900/50 transition",children:[e.jsx("i",{className:"ri-eye-line mr-1"}),"View"]}),e.jsxs("button",{onClick:()=>I(t),className:"px-3 py-1.5 bg-blue-100 dark-theme:bg-blue-900/30 text-blue-700 dark-theme:text-blue-300 rounded-lg text-sm font-medium hover:bg-blue-200 transition",children:[e.jsx("i",{className:"ri-edit-line mr-1"}),"Edit"]}),t.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>L(t.id,t.title),className:"px-3 py-1.5 bg-green-100 text-green-700 rounded-lg text-sm font-medium hover:bg-green-200 transition",children:e.jsx("i",{className:"ri-check-line"})}),e.jsx("button",{onClick:()=>ee(t.id,t.title),className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg text-sm font-medium hover:bg-red-200 transition",children:e.jsx("i",{className:"ri-close-line"})})]}),t.status==="active"&&e.jsx("button",{onClick:()=>F(t.id,"inactive"),className:"px-3 py-1.5 bg-gray-100 dark-theme:bg-gray-700 text-gray-600 dark-theme:text-gray-300 rounded-lg text-sm font-medium hover:bg-gray-200 transition",children:e.jsx("i",{className:"ri-pause-line"})}),t.status==="inactive"&&e.jsx("button",{onClick:()=>F(t.id,"active"),className:"px-3 py-1.5 bg-green-50 dark-theme:bg-green-900/20 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 transition",children:e.jsx("i",{className:"ri-play-line"})}),t.status==="rejected"&&e.jsx("button",{onClick:()=>L(t.id,t.title),className:"px-3 py-1.5 bg-green-50 dark-theme:bg-green-900/20 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 transition",children:e.jsx("i",{className:"ri-check-line"})}),e.jsx("button",{onClick:()=>te(t.id,t.title),className:"px-3 py-1.5 bg-red-50 dark-theme:bg-red-900/20 text-red-500 rounded-lg text-sm font-medium hover:bg-red-100 transition ml-auto",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})},t.id))})]}),O&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark-theme:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b dark-theme:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark-theme:text-gray-100",children:u?"Edit Course":"Create New Course"}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 dark-theme:hover:bg-gray-700 rounded-lg transition",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("form",{onSubmit:G,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark-theme:text-gray-300 mb-1",children:"Course Title *"}),e.jsx("input",{value:i.title,onChange:t=>d({...i,title:t.target.value}),className:"w-full px-4 py-2.5 border rounded-lg dark-theme:bg-gray-700 dark-theme:border-gray-600 dark-theme:text-gray-100 focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark-theme:text-gray-300 mb-1",children:"Course Code"}),e.jsx("input",{value:i.courseCode,onChange:t=>d({...i,courseCode:t.target.value}),className:"w-full px-4 py-2.5 border rounded-lg dark-theme:bg-gray-700 dark-theme:border-gray-600 dark-theme:text-gray-100 focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark-theme:text-gray-300 mb-1",children:"Category"}),e.jsx("input",{value:i.category,onChange:t=>d({...i,category:t.target.value}),placeholder:"e.g. Computer Science",className:"w-full px-4 py-2.5 border rounded-lg dark-theme:bg-gray-700 dark-theme:border-gray-600 dark-theme:text-gray-100 focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark-theme:text-gray-300 mb-1",children:"Type"}),e.jsxs("select",{value:i.courseType,onChange:t=>d({...i,courseType:t.target.value}),className:"w-full px-4 py-2.5 border rounded-lg dark-theme:bg-gray-700 dark-theme:border-gray-600 dark-theme:text-gray-100 focus:ring-2 focus:ring-primary focus:border-transparent",children:[e.jsx("option",{value:"theory",children:"Theory"}),e.jsx("option",{value:"practical",children:"Practical"}),e.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark-theme:text-gray-300 mb-1",children:"Difficulty"}),e.jsxs("select",{value:i.difficulty,onChange:t=>d({...i,difficulty:t.target.value}),className:"w-full px-4 py-2.5 border rounded-lg dark-theme:bg-gray-700 dark-theme:border-gray-600 dark-theme:text-gray-100 focus:ring-2 focus:ring-primary focus:border-transparent",children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark-theme:text-gray-300 mb-1",children:"Semester"}),e.jsx("input",{value:i.semester,onChange:t=>d({...i,semester:t.target.value}),className:"w-full px-4 py-2.5 border rounded-lg dark-theme:bg-gray-700 dark-theme:border-gray-600 dark-theme:text-gray-100 focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark-theme:text-gray-300 mb-1",children:"Duration"}),e.jsx("input",{value:i.duration,onChange:t=>d({...i,duration:t.target.value}),placeholder:"e.g. 12 weeks",className:"w-full px-4 py-2.5 border rounded-lg dark-theme:bg-gray-700 dark-theme:border-gray-600 dark-theme:text-gray-100 focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark-theme:text-gray-300 mb-1",children:"Max Students"}),e.jsx("input",{type:"number",value:i.maxStudents,onChange:t=>d({...i,maxStudents:parseInt(t.target.value)||50}),className:"w-full px-4 py-2.5 border rounded-lg dark-theme:bg-gray-700 dark-theme:border-gray-600 dark-theme:text-gray-100 focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark-theme:text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{value:i.description,onChange:t=>d({...i,description:t.target.value}),rows:"3",className:"w-full px-4 py-2.5 border rounded-lg dark-theme:bg-gray-700 dark-theme:border-gray-600 dark-theme:text-gray-100 focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),!u&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark-theme:text-gray-300",children:"Initial Subjects"}),e.jsxs("button",{type:"button",onClick:re,className:"text-sm text-primary hover:text-primary-dark",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Add Row"]})]}),i.subjects.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{value:t.title,onChange:s=>M(r,"title",s.target.value),placeholder:"Subject title",className:"flex-1 px-3 py-2 border rounded-lg dark-theme:bg-gray-700 dark-theme:border-gray-600 dark-theme:text-gray-100 text-sm focus:ring-2 focus:ring-primary focus:border-transparent"}),e.jsx("input",{value:t.code,onChange:s=>M(r,"code",s.target.value),placeholder:"Code",className:"w-24 px-3 py-2 border rounded-lg dark-theme:bg-gray-700 dark-theme:border-gray-600 dark-theme:text-gray-100 text-sm focus:ring-2 focus:ring-primary focus:border-transparent"}),i.subjects.length>1&&e.jsx("button",{type:"button",onClick:()=>se(r),className:"text-red-500 hover:text-red-700",children:e.jsx("i",{className:"ri-close-circle-line"})})]},r))]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t dark-theme:border-gray-700",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-5 py-2.5 border dark-theme:border-gray-600 rounded-lg text-gray-700 dark-theme:text-gray-300 hover:bg-gray-50 dark-theme:hover:bg-gray-700 font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-medium",children:u?"Update Course":"Create Course"})]})]})]})})]})};export{ce as default};
