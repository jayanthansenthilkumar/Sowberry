import{r as a,j as e,s as Se,S as d,g as m}from"./index-CMem4MGR.js";import{D as Ks}from"./DashboardLayout-DOmZDR2B.js";const Fs=()=>{const[g,Ce]=a.useState(null),[x,Me]=a.useState(null),[E,w]=a.useState("card"),[Z,$e]=a.useState([]),[ee,Lt]=a.useState({}),[S,Ot]=a.useState([]),[W,Ae]=a.useState(!0),[P,te]=a.useState(null),[se,Ge]=a.useState(!1),[Kt,It]=a.useState(0),[Be,re]=a.useState(""),[R,b]=a.useState(""),[ae,Ee]=a.useState(!1),[C,Rt]=a.useState(null),[u,le]=a.useState([]),[We,ne]=a.useState(0),[Pe,Ft]=a.useState(null),[qt,ie]=a.useState(!1),[F,Ut]=a.useState(1/0),[Te,De]=a.useState([]),[He,ze]=a.useState(0),[q,ce]=a.useState(null),[Le,Oe]=a.useState(!1),[M,Vt]=a.useState([]),[Ke,Ie]=a.useState({r:0,c:0}),[T,_t]=a.useState({r:0,c:0}),[oe,Re]=a.useState(0),[Fe,qe]=a.useState(!1),[Yt,Ue]=a.useState(new Set),[U,Jt]=a.useState(0),[V,Ve]=a.useState(1),[de,_e]=a.useState(100),[Ye,me]=a.useState(""),[Je,Qe]=a.useState(0),[Qt,xe]=a.useState(""),[Xt,Xe]=a.useState(!1),[Ze,et]=a.useState([]),[D,_]=a.useState([]),[tt,Zt]=a.useState(""),[es,ts]=a.useState(0),[he,ss]=a.useState(1),[H,st]=a.useState([[],[],[]]),[rt,at]=a.useState(0),[p,rs]=a.useState(3),[z,L]=a.useState(null),[as,lt]=a.useState(!1),[ge,ls]=a.useState(0),[ns,is]=a.useState([]),[Y,J]=a.useState([]),[cs,nt]=a.useState(!1),[ue,os]=a.useState(0),[O,ye]=a.useState([]),[it,fe]=a.useState(""),[be,ds]=a.useState([]),[ms,ct]=a.useState(!1),[ot,dt]=a.useState([]),[y,xs]=a.useState([]),[j,mt]=a.useState(null),[xt,ht]=a.useState(0),[Q,hs]=a.useState(7),[K,gs]=a.useState([]),[pe,us]=a.useState(0),[f,je]=a.useState([]),[gt,ut]=a.useState(!1),[ke,ys]=a.useState(0),[yt,ft]=a.useState(null),[k,fs]=a.useState([]),[$,bt]=a.useState(0),[N,bs]=a.useState([]),[pt,ps]=a.useState([]),[I,X]=a.useState({}),[jt,kt]=a.useState(0),[js,Nt]=a.useState(!1),vt=["#ef4444","#3b82f6","#22c55e","#eab308"];a.useEffect(()=>{let t=!1;return(async()=>{Ae(!0),te(null);try{const[r,l]=await Promise.all([Se.getGameChallenges(),Se.getGameUnlocks()]);if(t)return;if(r.data&&Array.isArray(r.data)){const n={},i=[];r.data.forEach(c=>{n[c.slug]={title:c.title,description:c.description,boilerplate:c.boilerplate,hint:c.hint,testCases:typeof c.testCases=="string"?JSON.parse(c.testCases):c.testCases},i.push({id:c.slug,type:c.gameType||c.slug,title:c.gameTitle,description:c.gameDescription,icon:c.gameIcon,color:c.gameColor,algorithm:c.gameAlgorithm,difficulty:c.difficulty})}),Lt(n),Ot(i)}else te("No game challenges found. Please contact your administrator.");l.data&&Array.isArray(l.data)&&$e(l.data)}catch(r){if(t)return;console.error("Failed to fetch game data:",r),te("Could not connect to server. Please check your connection and try again.")}finally{t||Ae(!1)}})(),()=>{t=!0}},[Kt]);const ks=()=>It(t=>t+1),wt=a.useCallback(()=>{const t=[{id:0,x:50,y:150,label:"A"},{id:1,x:180,y:60,label:"B"},{id:2,x:180,y:240,label:"C"},{id:3,x:320,y:60,label:"D"},{id:4,x:320,y:240,label:"E"},{id:5,x:450,y:150,label:"F"}],s=[{from:0,to:1,w:2+Math.floor(Math.random()*5)},{from:0,to:2,w:4+Math.floor(Math.random()*4)},{from:1,to:3,w:1+Math.floor(Math.random()*6)},{from:1,to:2,w:3+Math.floor(Math.random()*3)},{from:2,to:4,w:2+Math.floor(Math.random()*5)},{from:3,to:5,w:3+Math.floor(Math.random()*4)},{from:4,to:5,w:1+Math.floor(Math.random()*5)},{from:3,to:4,w:2+Math.floor(Math.random()*3)}],r=Array(6).fill(1/0);r[0]=0;const l=new Set;for(let n=0;n<6;n++){let i=-1;for(let c=0;c<6;c++)!l.has(c)&&(i===-1||r[c]<r[i])&&(i=c);l.add(i);for(const c of s)c.from===i&&r[i]+c.w<r[c.to]&&(r[c.to]=r[i]+c.w),c.to===i&&r[i]+c.w<r[c.from]&&(r[c.from]=r[i]+c.w)}Rt({nodes:t,edges:s}),le([0]),ne(0),Ft(5),ie(!1),Ut(r[5])},[]),St=a.useCallback(()=>{De(Array.from({length:8},()=>Math.floor(Math.random()*50)+5)),ze(0),ce(null),Oe(!1)},[]),Ct=a.useCallback(()=>{const r=Array.from({length:8},()=>Array(8).fill(0));for(let n=0;n<Math.floor(64*.3);n++){const i=Math.floor(Math.random()*8),c=Math.floor(Math.random()*8);i===0&&c===0||i===7&&c===7||(r[i][c]=1)}const l=n=>{const i=[[0,0]],c=new Set(["0,0"]);for(;i.length;){const[A,zt]=i.shift();if(A===7&&zt===7)return!0;for(const[Ls,Os]of[[0,1],[0,-1],[1,0],[-1,0]]){const G=A+Ls,B=zt+Os;G>=0&&G<8&&B>=0&&B<8&&!c.has(`${G},${B}`)&&n[G][B]===0&&(c.add(`${G},${B}`),i.push([G,B]))}}return!1};for(;!l(r);){const n=Math.floor(Math.random()*8),i=Math.floor(Math.random()*8);r[n][i]=0}Vt(r),Ie({r:0,c:0}),_t({r:7,c:7}),Re(0),qe(!1),Ue(new Set(["0,0"]))},[]),Mt=a.useCallback(()=>{Jt(Math.floor(Math.random()*100)+1),Ve(1),_e(100),me(""),Qe(0),xe("Guess a number between 1 and 100"),Xe(!1),et([])},[]),$t=a.useCallback(()=>{const t=["()","[]","{}"];let s="";for(let r=0;r<3+he;r++){const l=t[Math.floor(Math.random()*t.length)],n=Math.floor(Math.random()*(s.length+1));s=s.slice(0,n)+l+s.slice(n)}Zt(s),_([])},[he]),At=a.useCallback(()=>{st([Array.from({length:p},(t,s)=>p-s),[],[]]),at(0),L(null),lt(!1)},[p]),Gt=a.useCallback(()=>{const t=[1,2,5,10,25],s=Math.floor(Math.random()*90)+10;let r=s,l=0;for(const n of[...t].sort((i,c)=>c-i))l+=Math.floor(r/n),r%=n;is(t),ls(s),J([]),nt(!1),os(l)},[]),Bt=a.useCallback(()=>{ds(Array.from({length:5},()=>Math.floor(Math.random()*20)+1)),ye([]),fe(""),ct(!1)},[]),Et=a.useCallback(()=>{dt(Array.from({length:7},()=>[])),xs(Array.from({length:5},()=>Math.floor(Math.random()*50)+1)),mt(0),ht(0),hs(7)},[]),Wt=a.useCallback(()=>{const t=[{name:"Laptop",weight:3,value:10},{name:"Phone",weight:1,value:6},{name:"Book",weight:2,value:4},{name:"Camera",weight:4,value:12},{name:"Watch",weight:1,value:3},{name:"Tablet",weight:3,value:8}].map(n=>({...n,weight:n.weight+Math.floor(Math.random()*2),value:n.value+Math.floor(Math.random()*3)})),s=8+Math.floor(Math.random()*3),r=t.length,l=Array.from({length:r+1},()=>Array(s+1).fill(0));for(let n=1;n<=r;n++)for(let i=0;i<=s;i++)l[n][i]=l[n-1][i],t[n-1].weight<=i&&(l[n][i]=Math.max(l[n][i],l[n-1][i-t[n-1].weight]+t[n-1].value));gs(t),us(s),je([]),ut(!1),ys(l[r][s])},[]),Pt=a.useCallback(()=>{fs(Array.from({length:7},()=>Math.floor(Math.random()*50)+1)),ft(null),bt(0)},[]),Tt=a.useCallback(()=>{bs([{id:0,x:120,y:40,label:"A"},{id:1,x:250,y:40,label:"B"},{id:2,x:50,y:140,label:"C"},{id:3,x:185,y:120,label:"D"},{id:4,x:320,y:140,label:"E"},{id:5,x:120,y:230,label:"F"},{id:6,x:250,y:230,label:"G"}]),ps([[0,1],[0,2],[0,3],[1,3],[1,4],[2,3],[2,5],[3,4],[3,5],[3,6],[4,6],[5,6]]),X({}),kt(0),Nt(!1)},[]),Ne={dijkstra:wt,sorting:St,bfs:Ct,binary_search:Mt,stack:$t,recursion:At,greedy:Gt,linkedlist:Bt,hash:Et,dp:Wt,tree:Pt,graph_coloring:Tt},Ns=t=>{if(qt||u.includes(t))return;const s=u[u.length-1],r=C.edges.find(i=>i.from===s&&i.to===t||i.to===s&&i.from===t);if(!r)return;const l=[...u,t],n=We+r.w;le(l),ne(n),t===Pe&&(ie(!0),d.fire({...m(),icon:n===F?"success":"info",title:n===F?"Optimal Path!":"Path Found!",text:`Cost: ${n} (Optimal: ${F})`}))},vs=t=>{if(!Le)if(q===null)ce(t);else{const s=[...Te];[s[q],s[t]]=[s[t],s[q]],De(s),ze(r=>r+1),ce(null),s.every((r,l)=>l===0||s[l-1]<=r)&&(Oe(!0),d.fire({...m(),icon:"success",title:"Sorted!",text:`Done in ${He+1} swaps!`}))}};a.useEffect(()=>{if(x!=="bfs"||E!=="game"||Fe)return;const t=s=>{const l={ArrowUp:[-1,0],ArrowDown:[1,0],ArrowLeft:[0,-1],ArrowRight:[0,1]}[s.key];l&&(s.preventDefault(),Ie(n=>{const i=n.r+l[0],c=n.c+l[1];return i<0||i>=M.length||c<0||c>=M[0].length||M[i][c]===1?n:(Re(A=>A+1),Ue(A=>new Set([...A,`${i},${c}`])),i===T.r&&c===T.c&&(qe(!0),d.fire({...m(),icon:"success",title:"Maze Solved!",text:`Completed in ${oe+1} moves!`})),{r:i,c})}))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[x,E,M,Fe,T,oe]);const Dt=()=>{const t=parseInt(Ye);if(isNaN(t)||t<1||t>100)return;const s=Je+1;Qe(s),et(r=>[...r,{guess:t,dir:t===U?"correct":t<U?"higher":"lower"}]),t===U?(Xe(!0),d.fire({...m(),icon:s<=7?"success":"info",title:"Found it!",text:`Found in ${s} attempts`})):t<U?(xe(`${t} is too LOW`),Ve(Math.max(V,t+1))):(xe(`${t} is too HIGH`),_e(Math.min(de,t-1))),me("")},ws=t=>{const s=[...D,t];_(s),s.join("")===tt&&(ts(r=>r+1),ss(r=>r+1),d.fire({...m(),icon:"success",title:"Matched!",timer:1200,showConfirmButton:!1}),setTimeout(()=>$t(),1300))},Ss=()=>{D.length>0&&_(D.slice(0,-1))},Cs=t=>{if(!as)if(z===null){if(H[t].length===0)return;L(t)}else{if(t===z){L(null);return}const s=H[z],r=H[t],l=s[s.length-1];if(r.length>0&&r[r.length-1]<l){d.fire({...m(),icon:"warning",title:"Invalid!",timer:1e3,showConfirmButton:!1}),L(null);return}const n=H.map(i=>[...i]);n[z].pop(),n[t].push(l),st(n),at(i=>i+1),L(null),t===2&&n[2].length===p&&(lt(!0),d.fire({...m(),icon:"success",title:"Tower Complete!",text:`Done in ${rt+1} moves (optimal: ${Math.pow(2,p)-1})`}))}},Ms=t=>{if(cs)return;const s=[...Y,t],r=s.reduce((l,n)=>l+n,0);J(s),r===ge?(nt(!0),d.fire({...m(),icon:s.length<=ue?"success":"info",title:s.length<=ue?"Optimal!":"Got it!",text:`${s.length} coins (optimal: ${ue})`})):r>ge&&(d.fire({...m(),icon:"error",title:"Over!",timer:1e3,showConfirmButton:!1}),J([]))},Ht=()=>{const t=parseInt(it);if(isNaN(t))return;const s=[...O,t];ye(s),fe(""),s.length===be.length&&s.every((r,l)=>r===be[l])&&(ct(!0),d.fire({...m(),icon:"success",title:"Chain Complete!"}))},$s=t=>{ye(O.filter((s,r)=>r!==t))},As=t=>{if(j>=y.length)return;const s=y[j],r=s%Q,l=ot.map(n=>[...n]);l[t].push(s),dt(l),t===r&&ht(n=>n+1),j+1>=y.length&&d.fire({...m(),icon:"success",title:"Complete!",text:`Score: ${xt+(t===r?1:0)}/${y.length}`}),mt(n=>n+1)},Gs=t=>{if(gt)return;const s=f.includes(t)?f.filter(r=>r!==t):[...f,t];if(s.reduce((r,l)=>r+K[l].weight,0)>pe){d.fire({...m(),icon:"warning",title:"Too Heavy!",timer:1e3,showConfirmButton:!1});return}je(s)},Bs=()=>{const t=f.reduce((s,r)=>s+K[r].value,0);ut(!0),d.fire({...m(),icon:t===ke?"success":"info",title:t===ke?"Optimal!":"Good try!",text:`Value: ${t} (Optimal: ${ke})`})},ve=(t,s)=>t?s<t.val?{...t,left:ve(t.left,s)}:{...t,right:ve(t.right,s)}:{val:s,left:null,right:null},Es=()=>{$>=k.length||(ft(t=>ve(t,k[$])),bt(t=>t+1),$+1>=k.length&&d.fire({...m(),icon:"success",title:"BST Complete!"}))},we=(t,s,r,l)=>t?e.jsxs("g",{children:[t.left&&e.jsx("line",{x1:s,y1:r,x2:s-l,y2:r+50,stroke:"#555",strokeWidth:"2"}),t.right&&e.jsx("line",{x1:s,y1:r,x2:s+l,y2:r+50,stroke:"#555",strokeWidth:"2"}),e.jsx("circle",{cx:s,cy:r,r:18,fill:"#d4a574",stroke:"#222",strokeWidth:"2"}),e.jsx("text",{x:s,y:r+5,textAnchor:"middle",fill:"#1a1a1a",fontSize:"12",fontWeight:"bold",children:t.val}),t.left&&we(t.left,s-l,r+50,l/2),t.right&&we(t.right,s+l,r+50,l/2)]},`${s}-${r}-${t.val}`):null,Ws=t=>{if(js)return;const s={...I,[t]:jt};X(s),Object.keys(s).length===N.length&&(pt.every(([l,n])=>s[l]!==s[n])?(Nt(!0),d.fire({...m(),icon:"success",title:"Map Colored!"})):(d.fire({...m(),icon:"error",title:"Invalid!",text:"Adjacent nodes share a color."}),X({})))},Ps=async()=>{if(!g)return;if(!ee[g]){b("✘ Challenge data not found.");return}b("Running tests..."),Ge(!0);try{const s=await Se.submitGameChallenge(g,{code:Be});if(!s.success){b("✘ Error: "+(s.message||"Something went wrong"));return}if(s.passed)b("✔ All test cases passed! Game unlocked!"),$e(r=>[...new Set([...r,g])]),d.fire({...m(),icon:"success",title:"Challenge Complete!",text:'You can now play the game. Click "Play Game" to continue!',confirmButtonText:"Play Game"}).then(()=>{w("game"),Ne[x]?.()});else{let r=`✘ Some tests failed. Check your logic and try again.

`;s.output&&(r+=s.output),b(r)}}catch(s){b("✘ Error: "+(s.message||"Something went wrong"))}finally{Ge(!1)}},Ts=t=>{const s=S.find(n=>n.id===t);if(!s)return;const r=s.type||t;Ce(t),Me(r),b(""),Ee(!1);const l=ee[t];l&&re(l.boilerplate),Z.includes(t)?(w("game"),Ne[r]?.()):w("code")},Ds=()=>{Ce(null),Me(null),w("card")},h="bg-white dark-theme:bg-gray-900 rounded-2xl p-6 border border-sand dark-theme:border-gray-800",v="px-4 py-2.5 rounded-xl bg-primary text-white font-semibold text-sm hover:bg-primary-dark transition-colors",o="px-4 py-2.5 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 text-gray-500 dark-theme:text-gray-400 font-medium text-sm hover:bg-cream-dark dark-theme:hover:bg-gray-700 hover:border-gray-400 dark-theme:hover:border-gray-600 transition-colors",Hs=()=>{const t=ee[g];if(!t)return null;const s=S.find(r=>r.id===g);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:h,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-r ${s?.color} flex items-center justify-center flex-shrink-0`,children:e.jsx("i",{className:`${s?.icon} text-white`})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:t.title}),e.jsxs("p",{className:"text-xs text-gray-500 dark-theme:text-gray-500 mt-1",children:["Solve this to unlock: ",e.jsx("b",{className:"text-primary",children:s?.title})]})]})]}),e.jsx("div",{className:"bg-cream dark-theme:bg-gray-950 rounded-xl border border-sand dark-theme:border-gray-800 p-4 mb-4",children:e.jsx("p",{className:"text-sm text-gray-600 dark-theme:text-gray-300 whitespace-pre-wrap leading-relaxed",children:t.description})}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark-theme:text-gray-500",children:"Test Cases:"}),t.testCases.map((r,l)=>e.jsxs("div",{className:"flex gap-4 text-xs bg-cream dark-theme:bg-gray-950 rounded-lg p-2.5 border border-sand dark-theme:border-gray-800",children:[e.jsxs("span",{className:"text-gray-500 dark-theme:text-gray-500",children:["Input: ",e.jsx("span",{className:"text-primary font-mono",children:r.input})]}),e.jsxs("span",{className:"text-gray-500 dark-theme:text-gray-500",children:["Expected: ",e.jsx("span",{className:"text-green-400 font-mono",children:r.expected})]})]},l))]}),ae&&e.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-3 mb-4 text-xs text-primary",children:[e.jsx("i",{className:"ri-lightbulb-line mr-1"}),t.hint]}),e.jsxs("button",{onClick:()=>Ee(!ae),className:"text-xs text-gray-500 dark-theme:text-gray-500 hover:text-primary transition-colors",children:[e.jsx("i",{className:"ri-lightbulb-line mr-1"}),ae?"Hide Hint":"Show Hint"]})]}),e.jsxs("div",{className:h+" !p-0 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-2.5 bg-cream dark-theme:bg-gray-950 border-b border-sand dark-theme:border-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"}),e.jsx("span",{className:"ml-2 text-xs text-gray-400 dark-theme:text-gray-500",children:"solution.py"})]}),e.jsx("textarea",{value:Be,onChange:r=>re(r.target.value),spellCheck:!1,className:"w-full h-[280px] bg-cream dark-theme:bg-gray-950 text-green-400 font-mono text-sm p-4 outline-none resize-none",placeholder:"# Write your Python solution here..."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:Ps,disabled:se,className:v+" flex items-center gap-1.5",children:[e.jsx("i",{className:se?"ri-loader-4-line animate-spin":"ri-play-line"}),se?"Testing...":"Run & Test"]}),e.jsx("button",{onClick:()=>re(t.boilerplate),className:o,children:"Reset Code"}),Z.includes(g)&&e.jsxs("button",{onClick:()=>{w("game"),Ne[x]?.()},className:v+" !bg-green-500 hover:!bg-green-600 flex items-center gap-1.5",children:[e.jsx("i",{className:"ri-gamepad-line"}),"Play Game"]})]}),R&&e.jsxs("div",{className:`${h} !p-4`,children:[e.jsxs("p",{className:"text-xs font-semibold text-gray-500 dark-theme:text-gray-500 mb-2",children:[e.jsx("i",{className:"ri-terminal-line mr-1"}),"Output"]}),e.jsx("pre",{className:`text-sm font-mono whitespace-pre-wrap ${R.startsWith("✔")?"text-green-400":R.startsWith("✘")?"text-red-400":"text-gray-500 dark-theme:text-gray-400"}`,children:R})]})]})},zs=()=>x==="dijkstra"&&C?e.jsxs("div",{className:h,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:"Shortest Path Explorer"}),e.jsxs("p",{className:"text-xs text-gray-500 dark-theme:text-gray-400 mt-1",children:["Click nodes A","→","F to build the shortest path"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Cost: ",e.jsx("b",{className:"text-primary",children:We})]}),e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Optimal: ",e.jsx("b",{className:"text-green-400",children:F})]})]})]}),e.jsxs("svg",{viewBox:"0 0 500 300",className:"w-full bg-cream dark-theme:bg-gray-950 rounded-xl border border-sand dark-theme:border-gray-800",children:[C.edges.map((t,s)=>{const r=C.nodes[t.from],l=C.nodes[t.to],n=u.includes(t.from)&&u.includes(t.to)&&Math.abs(u.indexOf(t.from)-u.indexOf(t.to))===1;return e.jsxs("g",{children:[e.jsx("line",{x1:r.x,y1:r.y,x2:l.x,y2:l.y,stroke:n?"#d4a574":"#333",strokeWidth:n?3:1.5}),e.jsx("text",{x:(r.x+l.x)/2,y:(r.y+l.y)/2-8,textAnchor:"middle",fill:"#888",fontSize:"11",fontWeight:"bold",children:t.w})]},s)}),C.nodes.map(t=>e.jsxs("g",{onClick:()=>Ns(t.id),className:"cursor-pointer",children:[e.jsx("circle",{cx:t.x,cy:t.y,r:22,fill:u.includes(t.id)?"#d4a574":t.id===Pe?"#22c55e":"#222",stroke:t.id===0?"#d4a574":"#444",strokeWidth:"2"}),e.jsx("text",{x:t.x,y:t.y+5,textAnchor:"middle",fill:u.includes(t.id)?"#1a1a1a":"#e8e8e8",fontSize:"14",fontWeight:"bold",children:t.label})]},t.id))]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsxs("button",{onClick:wt,className:o,children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"New Graph"]}),e.jsx("button",{onClick:()=>{le([0]),ne(0),ie(!1)},className:o,children:"Reset Path"})]})]}):x==="sorting"?e.jsxs("div",{className:h,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:"Sort Visualizer"}),e.jsx("p",{className:"text-xs text-gray-500 dark-theme:text-gray-400 mt-1",children:"Click two bars to swap. Sort ascending!"})]}),e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Swaps: ",e.jsx("b",{className:"text-primary",children:He})]})]}),e.jsx("div",{className:"flex items-end justify-center gap-2 h-48 bg-cream dark-theme:bg-gray-950 rounded-xl border border-sand dark-theme:border-gray-800 p-4",children:Te.map((t,s)=>e.jsx("div",{onClick:()=>vs(s),className:`flex-1 rounded-t-lg cursor-pointer transition-all duration-200 flex items-end justify-center pb-1 text-xs font-bold ${q===s?"bg-primary text-white":Le?"bg-green-500 text-white":"bg-gray-200 dark-theme:bg-gray-700 text-gray-500 dark-theme:text-gray-400 hover:bg-gray-300 dark-theme:hover:bg-gray-600"}`,style:{height:`${t/55*100}%`},children:t},s))}),e.jsx("div",{className:"flex gap-3 mt-4",children:e.jsxs("button",{onClick:St,className:o,children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"New Array"]})})]}):x==="bfs"?e.jsxs("div",{className:h,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:"Maze Runner (BFS)"}),e.jsx("p",{className:"text-xs text-gray-500 dark-theme:text-gray-400 mt-1",children:"Use arrow keys to navigate. Reach the green cell!"})]}),e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Moves: ",e.jsx("b",{className:"text-primary",children:oe})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"inline-grid gap-0.5 bg-cream dark-theme:bg-gray-950 rounded-xl border border-sand dark-theme:border-gray-800 p-3",style:{gridTemplateColumns:`repeat(${M[0]?.length||8}, 1fr)`},children:M.map((t,s)=>t.map((r,l)=>{const n=Ke.r===s&&Ke.c===l,i=T.r===s&&T.c===l,c=Yt.has(`${s},${l}`);return e.jsxs("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-md flex items-center justify-center text-xs font-bold transition-colors ${r===1?"bg-gray-200 dark-theme:bg-gray-700":n?"bg-primary text-white":i?"bg-green-500":c?"bg-primary/20":"bg-white dark-theme:bg-gray-900"}`,children:[n&&e.jsx("i",{className:"ri-user-fill"}),i&&!n&&e.jsx("i",{className:"ri-flag-fill text-white"})]},`${s}-${l}`)}))})}),e.jsx("div",{className:"flex justify-center mt-4 sm:hidden",children:e.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[e.jsx("div",{}),e.jsx("button",{onClick:()=>window.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowUp"})),className:"w-10 h-10 rounded-lg bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 flex items-center justify-center text-gray-500 dark-theme:text-gray-400",children:e.jsx("i",{className:"ri-arrow-up-line"})}),e.jsx("div",{}),e.jsx("button",{onClick:()=>window.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowLeft"})),className:"w-10 h-10 rounded-lg bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 flex items-center justify-center text-gray-500 dark-theme:text-gray-400",children:e.jsx("i",{className:"ri-arrow-left-line"})}),e.jsx("button",{onClick:()=>window.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"})),className:"w-10 h-10 rounded-lg bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 flex items-center justify-center text-gray-500 dark-theme:text-gray-400",children:e.jsx("i",{className:"ri-arrow-down-line"})}),e.jsx("button",{onClick:()=>window.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowRight"})),className:"w-10 h-10 rounded-lg bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 flex items-center justify-center text-gray-500 dark-theme:text-gray-400",children:e.jsx("i",{className:"ri-arrow-right-line"})})]})}),e.jsx("div",{className:"flex gap-3 mt-4",children:e.jsxs("button",{onClick:Ct,className:o,children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"New Maze"]})})]}):x==="binary_search"?e.jsxs("div",{className:h,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:"Number Hunter"}),e.jsx("p",{className:"text-xs text-gray-500 dark-theme:text-gray-400 mt-1",children:"Use Binary Search logic!"})]}),e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Attempts: ",e.jsx("b",{className:"text-primary",children:Je})]})]}),e.jsxs("div",{className:"bg-cream dark-theme:bg-gray-950 rounded-xl border border-sand dark-theme:border-gray-800 p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 dark-theme:text-gray-500 mb-3",children:Qt}),e.jsxs("div",{className:"flex items-center gap-2 justify-center mb-4",children:[e.jsx("span",{className:"text-xs text-gray-400 dark-theme:text-gray-500 bg-cream dark-theme:bg-gray-800 px-2 py-1 rounded",children:V}),e.jsx("div",{className:"flex-1 h-2 bg-cream dark-theme:bg-gray-800 rounded-full max-w-xs relative",children:e.jsx("div",{className:"absolute h-full bg-primary rounded-full transition-all",style:{left:`${(V-1)/99*100}%`,width:`${(de-V)/99*100}%`}})}),e.jsx("span",{className:"text-xs text-gray-400 dark-theme:text-gray-500 bg-cream dark-theme:bg-gray-800 px-2 py-1 rounded",children:de})]}),!Xt&&e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx("input",{type:"number",value:Ye,onChange:t=>me(t.target.value),onKeyDown:t=>t.key==="Enter"&&Dt(),placeholder:"Your guess...",className:"w-32 px-3 py-2 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 text-gray-800 dark-theme:text-gray-100 text-center text-sm outline-none focus:border-primary"}),e.jsx("button",{onClick:Dt,className:v,children:"Guess"})]}),Ze.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 justify-center mt-3",children:Ze.map((t,s)=>e.jsxs("span",{className:`text-xs px-2 py-1 rounded-lg ${t.dir==="correct"?"bg-green-500/20 text-green-400":t.dir==="higher"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:[t.guess," ",t.dir==="correct"?"✔":t.dir==="higher"?"↑":"↓"]},s))})]}),e.jsx("div",{className:"flex gap-3 mt-4",children:e.jsxs("button",{onClick:Mt,className:o,children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"New Number"]})})]}):x==="stack"?e.jsxs("div",{className:h,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:"Stack Overflow"}),e.jsxs("p",{className:"text-xs text-gray-500 dark-theme:text-gray-400 mt-1",children:["Build the sequence - Level ",he]})]}),e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Score: ",e.jsx("b",{className:"text-primary",children:es})]})]}),e.jsxs("div",{className:"bg-cream dark-theme:bg-gray-950 rounded-xl border border-sand dark-theme:border-gray-800 p-4",children:[e.jsx("p",{className:"text-center font-mono text-lg text-primary mb-4 tracking-wider",children:tt}),e.jsx("div",{className:"flex items-end justify-center gap-1 h-32 mb-4",children:D.length===0?e.jsx("p",{className:"text-gray-400 dark-theme:text-gray-500 text-xs",children:"Stack is empty"}):D.map((t,s)=>e.jsx("div",{className:"w-8 h-8 bg-primary/20 border border-primary rounded flex items-center justify-center text-primary font-mono text-sm font-bold",children:t},s))}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[["(",")","[","]","{","}"].map(t=>e.jsx("button",{onClick:()=>ws(t),className:"w-10 h-10 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 text-gray-800 dark-theme:text-gray-100 font-mono font-bold text-lg hover:bg-cream-dark dark-theme:hover:bg-gray-700 hover:border-gray-400 dark-theme:hover:border-gray-600 transition-colors",children:t},t)),e.jsx("button",{onClick:Ss,className:"px-3 h-10 rounded-xl bg-red-500/20 border border-red-500/30 text-red-400 text-xs font-medium hover:bg-red-500/30 transition-colors",children:"Pop"}),e.jsx("button",{onClick:()=>_([]),className:o+" h-10",children:"Clear"})]})]})]}):x==="recursion"?e.jsxs("div",{className:h,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:"Tower of Hanoi"}),e.jsx("p",{className:"text-xs text-gray-500 dark-theme:text-gray-400 mt-1",children:"Move all discs to Peg C"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Moves: ",e.jsx("b",{className:"text-primary",children:rt})]}),e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Min: ",e.jsx("b",{className:"text-green-400",children:Math.pow(2,p)-1})]})]})]}),e.jsx("div",{className:"flex gap-4 justify-center bg-cream dark-theme:bg-gray-950 rounded-xl border border-sand dark-theme:border-gray-800 p-4",children:H.map((t,s)=>e.jsxs("div",{onClick:()=>Cs(s),className:`flex-1 flex flex-col items-center justify-end cursor-pointer min-h-[160px] rounded-xl p-2 transition-colors ${z===s?"bg-primary/10 border border-primary/30":"hover:bg-white dark-theme:bg-gray-900"}`,children:[e.jsx("div",{className:"w-1 bg-gray-300 dark-theme:bg-gray-600 flex-1 rounded-full mb-1"}),t.map((r,l)=>{const n=30+r*20,i=["#ef4444","#3b82f6","#22c55e","#eab308","#8b5cf6"];return e.jsx("div",{className:"rounded-md mb-0.5",style:{width:`${n}px`,height:"18px",backgroundColor:i[r-1]||"#d4a574"}},l)}),e.jsxs("p",{className:"text-xs text-gray-400 dark-theme:text-gray-500 mt-1 font-medium",children:["Peg ",["A","B","C"][s]]})]},s))}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsxs("button",{onClick:At,className:o,children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"Reset"]}),e.jsxs("select",{value:p,onChange:t=>rs(Number(t.target.value)),className:"px-3 py-2 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 text-gray-500 dark-theme:text-gray-400 text-sm outline-none",children:[e.jsx("option",{value:3,children:"3 Discs"}),e.jsx("option",{value:4,children:"4 Discs"}),e.jsx("option",{value:5,children:"5 Discs"})]})]})]}):x==="greedy"?e.jsxs("div",{className:h,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:"Coin Change"}),e.jsxs("p",{className:"text-xs text-gray-500 dark-theme:text-gray-400 mt-1",children:["Make exactly ",e.jsx("b",{className:"text-primary",children:ge})," with fewest coins!"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Current: ",e.jsx("b",{className:"text-primary",children:Y.reduce((t,s)=>t+s,0)})]}),e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Coins: ",e.jsx("b",{className:"text-primary",children:Y.length})]})]})]}),e.jsxs("div",{className:"bg-cream dark-theme:bg-gray-950 rounded-xl border border-sand dark-theme:border-gray-800 p-4",children:[e.jsx("div",{className:"flex gap-3 justify-center mb-4",children:ns.map(t=>e.jsxs("button",{onClick:()=>Ms(t),className:"w-14 h-14 rounded-full bg-gradient-to-b from-yellow-400 to-yellow-600 text-yellow-900 font-bold text-sm shadow-lg hover:scale-110 transition-transform active:scale-95",children:[t,"¢"]},t))}),e.jsx("div",{className:"flex flex-wrap gap-1 justify-center min-h-[40px]",children:Y.map((t,s)=>e.jsx("span",{className:"w-7 h-7 rounded-full bg-yellow-500/20 border border-yellow-500/40 text-yellow-400 text-xs flex items-center justify-center font-bold",children:t},s))})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:()=>J([]),className:o,children:"Clear"}),e.jsxs("button",{onClick:Gt,className:o,children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"New"]})]})]}):x==="linkedlist"?e.jsxs("div",{className:h,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:"Chain Builder"}),e.jsxs("p",{className:"text-xs text-gray-500 dark-theme:text-gray-400 mt-1",children:["Build: [",be.join(" → "),"]"]})]})}),e.jsxs("div",{className:"bg-cream dark-theme:bg-gray-950 rounded-xl border border-sand dark-theme:border-gray-800 p-4",children:[e.jsx("div",{className:"flex items-center gap-1 min-h-[60px] overflow-x-auto pb-2 justify-center",children:O.length===0?e.jsx("p",{className:"text-gray-400 dark-theme:text-gray-500 text-xs",children:"Empty - start inserting!"}):O.map((t,s)=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{onClick:()=>$s(s),className:"w-12 h-12 rounded-lg bg-primary/20 border border-primary flex items-center justify-center text-primary font-bold cursor-pointer hover:bg-red-500/20 hover:border-red-500 hover:text-red-400 transition-colors group",title:"Click to delete",children:[e.jsx("span",{className:"group-hover:hidden",children:t}),e.jsx("i",{className:"ri-delete-bin-line hidden group-hover:block text-sm"})]}),s<O.length-1&&e.jsx("i",{className:"ri-arrow-right-line text-gray-400 dark-theme:text-gray-500 mx-1"})]},s))}),!ms&&e.jsxs("div",{className:"flex gap-2 justify-center mt-3",children:[e.jsx("input",{type:"number",value:it,onChange:t=>fe(t.target.value),onKeyDown:t=>t.key==="Enter"&&Ht(),placeholder:"Value...",className:"w-24 px-3 py-2 rounded-xl bg-cream dark-theme:bg-gray-800 border border-sand dark-theme:border-gray-700 text-gray-800 dark-theme:text-gray-100 text-center text-sm outline-none focus:border-primary"}),e.jsx("button",{onClick:Ht,className:v,children:"Insert"})]})]}),e.jsx("div",{className:"flex gap-3 mt-4",children:e.jsxs("button",{onClick:Bt,className:o,children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"New"]})})]}):x==="hash"?e.jsxs("div",{className:h,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:"Hash Table Quest"}),e.jsxs("p",{className:"text-xs text-gray-500 dark-theme:text-gray-400 mt-1",children:["Place key in correct bucket: key % ",Q]})]}),e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Score: ",e.jsxs("b",{className:"text-primary",children:[xt,"/",y.length]})]})]}),e.jsxs("div",{className:"bg-cream dark-theme:bg-gray-950 rounded-xl border border-sand dark-theme:border-gray-800 p-4",children:[j<y.length&&e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:"Place this key:"}),e.jsx("p",{className:"text-2xl font-bold text-primary",children:y[j]}),e.jsxs("p",{className:"text-xs text-gray-400 dark-theme:text-gray-500",children:[y[j]," % ",Q," = ",y[j]%Q]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:ot.map((t,s)=>e.jsxs("div",{onClick:()=>As(s),className:"cursor-pointer rounded-xl bg-white dark-theme:bg-gray-900 border border-sand dark-theme:border-gray-700 p-2 min-h-[80px] hover:border-primary transition-colors",children:[e.jsxs("p",{className:"text-[10px] text-gray-400 dark-theme:text-gray-500 text-center mb-1",children:["[",s,"]"]}),t.map((r,l)=>e.jsx("div",{className:"text-xs text-primary text-center bg-primary/10 rounded px-1 py-0.5 mb-0.5",children:r},l))]},s))})]}),e.jsx("div",{className:"flex gap-3 mt-4",children:e.jsxs("button",{onClick:Et,className:o,children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"New"]})})]}):x==="dp"?e.jsxs("div",{className:h,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:"Knapsack Packer"}),e.jsxs("p",{className:"text-xs text-gray-500 dark-theme:text-gray-400 mt-1",children:["Capacity: ",e.jsxs("b",{className:"text-primary",children:[pe," kg"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Weight: ",e.jsxs("b",{className:"text-primary",children:[f.reduce((t,s)=>t+K[s].weight,0),"/",pe]})]}),e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Value: ",e.jsx("b",{className:"text-green-400",children:f.reduce((t,s)=>t+K[s].value,0)})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 bg-cream dark-theme:bg-gray-950 rounded-xl border border-sand dark-theme:border-gray-800 p-4",children:K.map((t,s)=>e.jsxs("div",{onClick:()=>Gs(s),className:`rounded-xl p-3 cursor-pointer transition-all border ${f.includes(s)?"bg-primary/20 border-primary":"bg-white dark-theme:bg-gray-900 border-sand dark-theme:border-gray-700 hover:border-gray-400 dark-theme:hover:border-gray-600"}`,children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800 dark-theme:text-gray-100",children:t.name}),e.jsxs("div",{className:"flex justify-between mt-1 text-xs",children:[e.jsxs("span",{className:"text-gray-500 dark-theme:text-gray-500",children:[t.weight,"kg"]}),e.jsxs("span",{className:"text-green-400",children:["$",t.value]})]})]},s))}),!gt&&e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Bs,className:v,disabled:f.length===0,children:"Submit"}),e.jsx("button",{onClick:()=>je([]),className:o,children:"Clear"}),e.jsxs("button",{onClick:Wt,className:o,children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"New"]})]})]}):x==="tree"?e.jsxs("div",{className:h,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:"BST Explorer"}),e.jsxs("p",{className:"text-xs text-gray-500 dark-theme:text-gray-400 mt-1",children:["Insert: [",k.join(", "),"]"]})]}),e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Inserted: ",e.jsxs("b",{className:"text-primary",children:[$,"/",k.length]})]})]}),e.jsx("div",{className:"bg-cream dark-theme:bg-gray-950 rounded-xl border border-sand dark-theme:border-gray-800 p-4",children:e.jsx("svg",{viewBox:"0 0 400 250",className:"w-full",children:yt?we(yt,200,25,80):e.jsx("text",{x:200,y:125,textAnchor:"middle",fill:"#555",fontSize:"14",children:"Click Insert to start"})})}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[$<k.length&&e.jsxs("button",{onClick:Es,className:v,children:["Insert ",e.jsx("b",{children:k[$]})]}),e.jsxs("button",{onClick:Pt,className:o,children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"New Sequence"]})]})]}):x==="graph_coloring"?e.jsxs("div",{className:h,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark-theme:text-gray-100",children:"Map Coloring"}),e.jsx("p",{className:"text-xs text-gray-500 dark-theme:text-gray-400 mt-1",children:"Pick color, then click nodes"})]}),e.jsxs("span",{className:"text-xs text-gray-500 dark-theme:text-gray-500",children:["Colored: ",e.jsxs("b",{className:"text-primary",children:[Object.keys(I).length,"/",N.length]})]})]}),e.jsx("div",{className:"flex gap-2 mb-3 justify-center",children:vt.map((t,s)=>e.jsx("button",{onClick:()=>kt(s),className:`w-8 h-8 rounded-full border-2 transition-transform ${jt===s?"scale-125 border-white":"border-sand dark-theme:border-gray-700"}`,style:{backgroundColor:t}},s))}),e.jsxs("svg",{viewBox:"0 0 380 280",className:"w-full bg-cream dark-theme:bg-gray-950 rounded-xl border border-sand dark-theme:border-gray-800",children:[pt.map(([t,s],r)=>e.jsx("line",{x1:N[t].x,y1:N[t].y,x2:N[s].x,y2:N[s].y,stroke:"#333",strokeWidth:"2"},r)),N.map(t=>e.jsxs("g",{onClick:()=>Ws(t.id),className:"cursor-pointer",children:[e.jsx("circle",{cx:t.x,cy:t.y,r:24,fill:I[t.id]!==void 0?vt[I[t.id]]:"#222",stroke:I[t.id]!==void 0?"#fff":"#444",strokeWidth:"2"}),e.jsx("text",{x:t.x,y:t.y+5,textAnchor:"middle",fill:"white",fontSize:"14",fontWeight:"bold",children:t.label})]},t.id))]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:()=>X({}),className:o,children:"Reset Colors"}),e.jsxs("button",{onClick:Tt,className:o,children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"New Graph"]})]})]}):null;return e.jsx(Ks,{pageTitle:"Learning Games",role:"student",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark-theme:text-gray-100",children:"Algorithm Games"}),E==="card"&&!W&&!P&&e.jsxs("p",{className:"text-sm text-gray-500 dark-theme:text-gray-400 mt-1",children:["Solve the code challenge to unlock each game ","—"," ",S.length," challenges"]})]}),g&&e.jsxs("button",{onClick:Ds,className:o+" flex items-center gap-1.5",children:[e.jsx("i",{className:"ri-arrow-left-line"}),"All Games"]})]}),g&&E==="code"&&Hs(),g&&E==="game"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>w("code"),className:o+" text-xs flex items-center gap-1",children:[e.jsx("i",{className:"ri-code-s-slash-line"}),"View Code"]}),e.jsxs("span",{className:"text-xs text-green-400",children:[e.jsx("i",{className:"ri-lock-unlock-line mr-1"}),"Unlocked"]})]}),zs()]}),!g&&W&&e.jsx("div",{className:"flex justify-center py-20",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-3xl text-primary"}),e.jsx("p",{className:"text-sm text-gray-500 dark-theme:text-gray-400",children:"Loading challenges..."})]})}),!g&&!W&&P&&e.jsx("div",{className:"flex justify-center py-20",children:e.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[e.jsx("i",{className:"ri-error-warning-line text-3xl text-red-400"}),e.jsx("p",{className:"text-sm text-red-400",children:P}),e.jsxs("button",{onClick:ks,className:v+" mt-2 flex items-center gap-1.5",children:[e.jsx("i",{className:"ri-refresh-line"}),"Retry"]})]})}),!g&&!W&&!P&&S.length===0&&e.jsx("div",{className:"flex justify-center py-20",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("i",{className:"ri-gamepad-line text-3xl text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-500 dark-theme:text-gray-400",children:"No game challenges available yet."})]})}),!g&&!W&&!P&&S.length>0&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(t=>{const s=Z.includes(t.id);return e.jsxs("div",{onClick:()=>Ts(t.id),className:"bg-white dark-theme:bg-gray-900 rounded-2xl border border-sand dark-theme:border-gray-800 overflow-hidden hover:border-primary/30 transition-all cursor-pointer group hover:shadow-lg hover:shadow-primary/5 relative",children:[e.jsx("div",{className:`h-1.5 bg-gradient-to-r ${t.color}`}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:`w-11 h-11 rounded-xl bg-gradient-to-r ${t.color} flex items-center justify-center group-hover:scale-110 transition-transform`,children:e.jsx("i",{className:`${t.icon} text-white text-lg`})}),e.jsxs("div",{className:"flex items-center gap-2",children:[s&&e.jsxs("span",{className:"text-[10px] font-medium px-2 py-1 rounded-full bg-green-500/10 text-green-400",children:[e.jsx("i",{className:"ri-lock-unlock-line mr-0.5"}),"Unlocked"]}),e.jsx("span",{className:`text-[10px] font-medium px-2 py-1 rounded-full ${t.difficulty==="Easy"?"bg-green-500/10 text-green-400":t.difficulty==="Medium"?"bg-amber-500/10 text-amber-400":"bg-red-500/10 text-red-400"}`,children:t.difficulty})]})]}),e.jsx("h3",{className:"font-bold text-gray-800 dark-theme:text-gray-100 mb-1",children:t.title}),e.jsx("p",{className:"text-[11px] text-gray-500 dark-theme:text-gray-400 mb-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("i",{className:"ri-code-s-slash-line text-primary text-xs"}),e.jsx("span",{className:"text-[10px] text-gray-500 dark-theme:text-gray-500 font-medium",children:t.algorithm})]}),!s&&e.jsxs("span",{className:"text-[10px] text-gray-400 dark-theme:text-gray-500",children:[e.jsx("i",{className:"ri-lock-line mr-0.5"}),"Solve to unlock"]})]})]})]},t.id)})})]})})};export{Fs as default};
