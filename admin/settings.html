<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Settings - Sowberry</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        /* Update Color Variables */
        :root {
            --primary-color: #ff7979;
            --primary-hover: #ff6666;
            --primary-light: rgba(255, 121, 121, 0.1);
            --section-bg: #ffffff;
            --form-bg: #f8fafc;
            --input-border: #e2e8f0;
        }

        /* Enhanced Tab Button Styles */
        .tab-button {
            padding: 12px 20px;
            border-radius: 8px;
            background: var(--form-bg);
            color: #64748b;
            font-weight: 500;
            transition: all 0.2s ease;
            border: 1px solid transparent;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 130px;
            justify-content: center;
        }

        .tab-button:hover {
            background: var(--primary-light);
            color: var(--primary-color);
        }

        .tab-button.active {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 121, 121, 0.2);
        }

        /* Compact Tab Header */
        .tabs-header {
            padding: 10px;
            gap: 5px;
            justify-content: flex-start;
            flex-wrap: nowrap;
            overflow-x: auto;
        }

        /* Fix Button Colors and Alignment */
        .btn.primary {
            background: var(--primary-color);
            padding: 10px 20px;
            min-width: 120px;
            justify-content: center;
            border: none;
        }

        .btn.primary:hover {
            background: var(--primary-hover);
            transform: translateY(-1px);
        }

        .btn.secondary {
            padding: 10px 20px;
            min-width: 120px;
            justify-content: center;
            border: 1px solid var(--input-border);
        }

        /* Form Actions Alignment */
        .form-actions {
            margin-top: 20px;
            padding: 15px;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            background: var(--form-bg);
            border-radius: 8px;
        }

        /* Section Spacing */
        .settings-section {
            margin-bottom: 15px;
            padding: 20px;
        }

        .settings-section:last-child {
            margin-bottom: 0;
        }

        /* Form Grid Alignment */
        .form-grid {
            gap: 15px;
            align-items: start;
        }

        /* Switch Container Alignment */
        .switch-container {
            padding: 12px 15px;
            margin: 0;
            height: 48px;
        }

        /* Icon Colors */
        .settings-section h3 i,
        .tab-button i {
            color: var(--primary-color);
        }

        /* Progress Bar Color */
        .progress-fill {
            background: var(--primary-color);
        }

        /* Update All Tab Button Colors */
        .tab-button[data-tab="general"].active,
        .tab-button[data-tab="courses"].active,
        .tab-button[data-tab="assessment"].active,
        .tab-button[data-tab="permissions"].active {
            background: var(--primary-color);
        }

        /* Compact Content Spacing */
        .tab-content {
            padding: 20px;
        }

        .form-group {
            margin: 0;
        }

        .form-group input,
        .form-group select {
            height: 42px;
        }

        /* Animation Update */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Update Tab Button Icon Colors */
        .tab-button i {
            color: #64748b;
            transition: color 0.3s ease;
        }

        .tab-button:hover i {
            color: var(--primary-color);
        }

        .tab-button.active i {
            color: white;
        }

        /* Add these styles to your existing styles */
        .permission-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 10px;
        }

        .permission-group {
            background: var(--form-bg);
            border-radius: 8px;
            padding: 20px;
            border: 1px solid var(--input-border);
        }

        .permission-group h4 {
            color: var(--text-color);
            font-size: 1rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--input-border);
        }

        .permission-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .permission-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
        }

        .permission-item label {
            color: var(--text-color);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .permission-item select {
            width: 150px;
            padding: 8px 12px;
            border: 1px solid var(--input-border);
            border-radius: 6px;
            background: var(--section-bg);
            color: var(--text-color);
            font-size: 0.9rem;
        }

        /* Update existing styles for better alignment */
        .settings-section {
            margin-bottom: 20px;
            padding: 25px;
        }

        .form-grid {
            padding: 5px;
        }

        .form-actions {
            margin-top: 25px;
        }

        /* Enhanced Role Management Styles */
        .role-group {
            background: var(--form-bg);
            border-radius: 12px;
            padding: 25px;
            border: 1px solid var(--input-border);
            margin-bottom: 15px;
        }

        .role-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px;
            background: var(--section-bg);
            border-radius: 8px;
            margin-bottom: 12px;
            border: 1px solid var(--input-border);
            transition: all 0.3s ease;
        }

        .role-item:hover {
            transform: translateX(5px);
            border-color: var(--primary-color);
            background: var(--primary-light);
        }

        .role-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .role-icon {
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--primary-light);
            border-radius: 10px;
            color: var(--primary-color);
        }

        .role-icon i {
            font-size: 1.2rem;
        }

        .role-details h4 {
            color: var(--text-color);
            font-size: 1rem;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .role-details p {
            color: var(--text-secondary);
            font-size: 0.85rem;
            max-width: 400px;
        }

        /* Enhanced Course Management Styles */
        .course-management {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .management-card {
            background: var(--form-bg);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--input-border);
        }

        .management-card h4 {
            color: var(--primary-color);
            font-size: 1rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--input-border);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .management-card h4 i {
            color: var(--primary-color);
        }

        .management-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .management-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: var(--section-bg);
            border-radius: 8px;
            border: 1px solid var(--input-border);
            transition: all 0.3s ease;
        }

        .management-item:hover {
            border-color: var(--primary-color);
            background: var(--primary-light);
        }

        .management-item select {
            width: 160px;
            padding: 8px 12px;
            border: 1px solid var(--input-border);
            border-radius: 6px;
            background: var(--section-bg);
            color: var(--text-color);
            font-size: 0.9rem;
            cursor: pointer;
        }

        .management-item select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px var(--primary-light);
        }

        /* Role Badge Styles */
        .role-badge {
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .role-badge.admin {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
        }

        .role-badge.instructor {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
        }

        .role-badge.moderator {
            background: rgba(245, 158, 11, 0.1);
            color: #f59e0b;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <i class="ri-seedling-fill"></i>
            <span>Sowberry</span>
        </div>
        <nav>
            <a href="admin.html"><i class="ri-home-4-line"></i><span>Overview</span></a>
            <a href="courses.html"><i class="ri-book-open-line"></i><span>Courses</span></a>
            <a href="students.html"><i class="ri-user-follow-line"></i><span>Students</span></a>
            <a href="newAssignments.html"><i class="ri-award-line"></i><span>Assignments</span></a>
            <a href="newEvents.html"><i class="ri-calendar-event-line"></i><span>Events</span></a>
            <a href="aptitude.html"><i class="ri-mental-health-line"></i><span>Aptitude</span></a>
            <a href="problemSolving.html"><i class="ri-code-box-line"></i><span>Problem Solving</span></a>
            <a href="discussion.html"><i class="ri-chat-1-line"></i><span>Discussion</span></a>
            <a href="#" class="active"><i class="ri-settings-3-line"></i><span>Settings</span></a>
        </nav>
    </div>
    <main>
        <!-- Header -->
        <header>
            <div class="search-bar">
                <i class="ri-search-line"></i>
                <input type="text" placeholder="Search settings...">
            </div>
            <div class="header-tools">
                <div class="theme-toggle">
                    <i class="ri-sun-line"></i>
                </div>
                    <div class="notifications" id="notifications">
                    <i class="ri-notification-3-line"></i>
                    <span class="notification-badge">3</span>
                    <!-- Notifications dropdown content -->
                    <div class="notifications-dropdown">
                        <!-- Same notification content as admin.html -->
                    </div>
                </div>
                <div class="user-profile" id="userProfile">
                    <img src="https://ui-avatars.com/api/?name=Sowmiya&size=30" alt="User" class="user-avatar">
                    <div class="user-info">
                        <span class="user-name">Sowmiya</span>
                        <span class="user-status">
                            <i class="ri-checkbox-blank-circle-fill"></i>
                            Active
                        </span>
                    </div>
                    <div class="profile-dropdown">
                        <a href="#"><i class="ri-user-line"></i> My Profile</a>
                        <a href="#"><i class="ri-lock-password-line"></i> Change Password</a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="logout"><i class="ri-logout-box-line"></i> Logout</a>
                    </div>
                </div>
            </div>
        </header>
        <div class="welcome-section">
            <div class="welcome-card">
                <div class="welcome-content">
                    <div class="welcome-text">
                        <h1>System <span class="highlight">Settings</span></h1>
                        <p>Manage your platform configurations</p>
                    </div>
                    <div class="welcome-stats">
                        <div class="stat-item floating">
                            <div class="stat-icon"><i class="ri-settings-4-line"></i></div>
                            <div class="stat-info">
                                <h4>Last Updated</h4>
                                <p>2 days ago</p>
                            </div>
                        </div>
                        <div class="stat-item floating delay-1">
                            <div class="stat-icon"><i class="ri-user-settings-line"></i></div>
                            <div class="stat-info">
                                <h4>Active Users</h4>
                                <p>245</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tabs-container">
            <div class="tabs-header">
                <button class="tab-button active" data-tab="general">
                    <i class="ri-settings-2-line"></i> General
                </button>
                <button class="tab-button" data-tab="courses">
                    <i class="ri-book-open-line"></i> Courses
                </button>
                <button class="tab-button" data-tab="assessment">
                    <i class="ri-test-tube-line"></i> Assessment
                </button>
                <button class="tab-button" data-tab="permissions">
                    <i class="ri-shield-user-line"></i> Permissions
                </button>
            </div>

            <!-- General Settings Tab -->
            <div class="tab-content active" id="general">
                <form class="settings-form">
                    <div class="settings-section">
                        <h3><i class="ri-school-line"></i> Institution Settings</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Institution Name</label>
                                <input type="text" value="Sowberry Academy">
                            </div>
                            <div class="form-group">
                                <label>Academic Year</label>
                                <select>
                                    <option>2023-2024</option>
                                    <option>2024-2025</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Default Semester</label>
                                <select>
                                    <option>Fall 2023</option>
                                    <option>Spring 2024</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3><i class="ri-timer-line"></i> Class Duration Settings</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Default Class Duration (minutes)</label>
                                <input type="number" value="60">
                            </div>
                            <div class="form-group">
                                <label>Break Duration (minutes)</label>
                                <input type="number" value="15">
                            </div>
                            <div class="switch-container">
                                <span>Enable Auto-break Timer</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn secondary">Cancel</button>
                        <button type="submit" class="btn primary">Save Changes</button>
                    </div>
                </form>
            </div>

            <!-- Courses Settings Tab -->
            <div class="tab-content" id="courses">
                <div class="settings-section">
                    <h3><i class="ri-folders-line"></i> Course Management</h3>
                    <div class="course-settings">
                        <div class="course-card">
                            <h4>Maximum Students</h4>
                            <input type="number" value="30">
                        </div>
                        <div class="course-card">
                            <h4>Auto Enrollment</h4>
                            <select>
                                <option>Enabled</option>
                                <option>Approval Required</option>
                                <option>Disabled</option>
                            </select>
                        </div>
                        <div class="course-card">
                            <h4>Default Credits</h4>
                            <input type="number" value="3">
                        </div>
                    </div>
                </div>
                <div class="settings-section">
                    <h3><i class="ri-time-line"></i> Schedule Settings</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Default Course Duration</label>
                            <select>
                                <option>3 Months</option>
                                <option>6 Months</option>
                                <option>1 Year</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Session Length</label>
                            <select>
                                <option>1 Hour</option>
                                <option>1.5 Hours</option>
                                <option>2 Hours</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn secondary">Cancel</button>
                    <button type="submit" class="btn primary">Save Changes</button>
                </div>
            </div>

            <!-- Assessment Settings Tab -->
            <div class="tab-content" id="assessment">
                <div class="settings-section">
                    <h3><i class="ri-draft-line"></i> Assessment Configuration</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Grading System</label>
                            <select>
                                <option>Letter Grade (A, B, C)</option>
                                <option>Percentage</option>
                                <option>Points Based</                            </select>
                        </div>
                        <div class="form-group">
                            <label>Passing Grade</label>
                            <input type="text" value="60%">
                        </div>
                        <div class="switch-container">
                            <span>Auto Grade Submissions</span>
                            <label class="toggle-switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn secondary">Cancel</button>
                    <button type="submit" class="btn primary">Save Changes</button>
                </div>
            </div>

            <!-- Add this inside the tabs-container, after the notifications tab -->
            <div class="tab-content" id="permissions">
                <div class="settings-section">
                    <h3><i class="ri-shield-user-line"></i> Role Management</h3>
                    <div class="role-group">
                        <div class="role-item">
                            <div class="role-info">
                                <div class="role-icon">
                                    <i class="ri-admin-line"></i>
                                </div>
                                <div class="role-details">
                                    <h4>Administrator Access <span class="role-badge admin">Admin</span></h4>
                                    <p>Full control over all system settings and user management</p>
                                </div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="role-item">
                            <div class="role-info">
                                <div class="role-icon">
                                    <i class="ri-user-star-line"></i>
                                </div>
                                <div class="role-details">
                                    <h4>Instructor Privileges <span class="role-badge instructor">Instructor</span></h4>
                                    <p>Manage courses, assignments, and student progress</p>
                                </div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="role-item">
                            <div class="role-info">
                                <div class="role-icon">
                                    <i class="ri-user-settings-line"></i>
                                </div>
                                <div class="role-details">
                                    <h4>Moderator Access <span class="role-badge moderator">Moderator</span></h4>
                                    <p>Monitor and manage discussion forums and content</p>
                                </div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <h3><i class="ri-lock-password-line"></i> Access Control</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Default User Role</label>
                            <select>
                                <option>Student</option>
                                <option>Instructor</option>
                                <option>Moderator</option>
                                <option>Administrator</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Session Timeout (minutes)</label>
                            <input type="number" value="30" min="5" max="120">
                        </div>
                        <div class="switch-container">
                            <span>Require Email Verification</span>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <h3><i class="ri-folder-settings-line"></i> Feature Access</h3>
                    <div class="course-management">
                        <div class="management-card">
                            <h4><i class="ri-book-open-line"></i> Course Management</h4>
                            <div class="management-list">
                                <div class="management-item">
                                    <label>Create Courses</label>
                                    <select>
                                        <option>All Users</option>
                                        <option>Instructors Only</option>
                                        <option>Administrators Only</option>
                                    </select>
                                </div>
                                <div class="management-item">
                                    <label>Edit Courses</label>
                                    <select>
                                        <option>Course Owners</option>
                                        <option>All Instructors</option>
                                        <option>Administrators Only</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="management-card">
                            <h4><i class="ri-folder-settings-line"></i> Content Access</h4>
                            <div class="management-list">
                                <div class="management-item">
                                    <label>View Analytics</label>
                                    <select>
                                        <option>Administrators Only</option>
                                        <option>All Staff</option>
                                        <option>All Users</option>
                                    </select>
                                </div>
                                <div class="management-item">
                                    <label>Download Content</label>
                                    <select>
                                        <option>Enrolled Users</option>
                                        <option>All Users</option>
                                        <option>Premium Users</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn secondary">Cancel</button>
                    <button type="submit" class="btn primary">Save Changes</button>
                </div>
            </div>

            <!-- Email Settings Tab -->
            <div class="tab-content" id="email">
                <form class="settings-form">
                    <div class="form-group">
                        <label>SMTP Server</label>
                        <input type="text" placeholder="smtp.example.com">
                    </div>
                    <div class="form-group">
                        <label>SMTP Port</label>
                        <input type="number" value="587">
                    </div>
                    <div class="switch-container">
                        <span>Email Notifications</span>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn secondary">Cancel</button>
                        <button type="submit" class="btn primary">Save Changes</button>
                    </div>
                </form>
            </div>

            <!-- Security Settings Tab -->
            <div class="tab-content" id="security">
                <form class="settings-form">
                    <div class="settings-section">
                        <h3><i class="ri-lock-password-line"></i> Password Requirements</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Minimum Length</label>
                                <input type="number" value="8" min="6" max="32">
                            </div>
                            <div class="switch-container">
                                <span>Require Special Characters</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="switch-container">
                                <span>Require Numbers</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3><i class="ri-shield-check-line"></i> Authentication</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Session Timeout (minutes)</label>
                                <input type="number" value="30">
                            </div>
                            <div class="switch-container">
                                <span>Two-Factor Authentication</span>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="switch-container">
                        <span>Two-Factor Auth</span>
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="switch-container">
                        <span>API Access</span>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn secondary">Cancel</button>
                        <button type="submit" class="btn primary">Save Changes</button>
                    </div>
                </form>
            </div>

            <!-- Backup Settings Tab -->
            <div class="tab-content" id="backup">
                <form class="settings-form">
                    <div class="backup-status">
                        <h4>Last Backup Status</h4>
                        <p>Completed on Dec 15, 2023 at 03:45 AM</p>
                        <div class="progress-bar">
                            <div class="progress-fill success" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Backup Frequency</label>
                        <select>
                            <option>Daily</option>
                            <option>Weekly</option>
                            <option>Monthly</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Retention Period</label>
                        <select>
                            <option>30 Days</option>
                            <option>60 Days</option>
                            <option>90 Days</option>
                        </select>
                    </div>
                    <button class="btn primary">Start Backup Now</button>
                    <div class="form-actions">
                        <button type="button" class="btn secondary">Cancel</button>
                        <button type="submit" class="btn primary">Save Changes</button>
                    </div>
                </form>
            </div>

            <!-- Appearance Settings Tab -->
            <div class="tab-content" id="appearance">
                <form class="settings-form">
                    <div class="form-group">
                        <label>Theme</label>
                        <select>
                            <option>Light</option>
                            <option>Dark</option>
                            <option>System Default</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Accent Color</label>
                        <input type="color" value="#4F46E5">
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn secondary">Cancel</button>
                        <button type="submit" class="btn primary">Save Changes</button>
                    </div>
                </form>
            </div>

            <!-- Integrations Settings Tab -->
            <div class="tab-content" id="integrations">
                <form class="settings-form">
                    <div class="form-group">
                        <label>Google Analytics ID</label>
                        <input type="text" placeholder="UA-XXXXXXXXX-X">
                    </div>
                    <div class="switch-container">
                        <span>Enable Slack Notifications</span>
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn secondary">Cancel</button>
                        <button type="submit" class="btn primary">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </main>
    <script src="../assets/script.js"></script>
    <script>
        // Tab switching functionality
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons and contents
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked button and corresponding content
                button.classList.add('active');
                document.getElementById(button.dataset.tab).classList.add('active');
            });
        });

        // Color preview functionality
        const colorInput = document.querySelector('input[type="color"]');
        const colorPreview = document.createElement('span');
        colorPreview.className = 'color-preview';
        colorInput.parentNode.appendChild(colorPreview);

        colorInput.addEventListener('input', (e) => {
            colorPreview.style.backgroundColor = e.target.value;
        });

        // Initialize color preview
        colorPreview.style.backgroundColor = colorInput.value;

        // Add form actions to all tabs that don't have them
        document.querySelectorAll('.tab-content').forEach(tab => {
            if (!tab.querySelector('.form-actions')) {
                const actions = document.createElement('div');
                actions.className = 'form-actions';
                actions.innerHTML = `
                    <button type="button" class="btn secondary">Cancel</button>
                    <button type="submit" class="btn primary">Save Changes</button>
                `;
                tab.appendChild(actions);
            }
        });

        // Ensure consistent form actions across all tabs
        document.querySelectorAll('.tab-content').forEach(tab => {
            const form = tab.querySelector('form') || tab;
            if (!form.querySelector('.form-actions')) {
                const actions = document.createElement('div');
                actions.className = 'form-actions';
                actions.innerHTML = `
                    <button type="button" class="btn secondary">Cancel</button>
                    <button type="submit" class="btn primary">Save Changes</button>
                `;
                form.appendChild(actions);
            }
        });

        // Add smooth transition when switching tabs
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                const targetId = button.dataset.tab;
                const targetContent = document.getElementById(targetId);
                
                // Add fade out effect
                document.querySelector('.tab-content.active').style.opacity = '0';
                
                setTimeout(() => {
                    // Remove active classes
                    document.querySelectorAll('.tab-button').forEach(btn => 
                        btn.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                        content.style.opacity = '0';
                    });
                    
                    // Add active classes
                    button.classList.add('active');
                    targetContent.classList.add('active');
                    
                    // Add fade in effect
                    setTimeout(() => {
                        targetContent.style.opacity = '1';
                    }, 50);
                }, 200);
            });
        });
    </script>
</body>
</html>
